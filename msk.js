const MskFinder = (() => {
  // 1. Исходные, полные данные, сгруппированные по коду МСК
  const mskSourceData = {
    "01-1": "01:05;01:06;01:09",
    "01-2": "01:01;01:02;01:03;01:04;01:07;01:08",
    "02-1": "02:02;02:05;02:07;02:08;02:09;02:12;02:13;02:14;02:15;02:16;02:17;02:20;02:22;02:23;02:27;02:29;02:31;02:33;02:35;02:36;02:37;02:39;02:40;02:43;02:44;02:45;02:46;02:47;02:49;02:51;02:52;02:53;02:54;02:55;02:56;02:57;02:59;02:60;02:63;02:64;02:65;02:66;02:68;02:69;02:70;02:71;02:72;02:74",
    "02-2": "02:01;02:03;02:04;02:06;02:10;02:11;02:18;02:19;02:21;02:24;02:25;02:26;02:28;02:30;02:32;02:34;02:38;02:41;02:42;02:48;02:50;02:58;02:61;02:62;02:67;02:73;02:75",
    "03-1": "03:15",
    "03-2": "03:07;03:20",
    "03-3": "03:04;03:08;03:09;03:12;03:18;03:22",
    "03-4": "03:01;03:03;03:06;03:10;03:14;03:16;03:19;03:21;03:24",
    "03-5": "03:02;03:05;03:11;03:17;03:23",
    "03-6": "03:13",
    "04-1": "04:01;04:02;04:04;04:05;04:06;04:07;04:08;04:11",
    "04-2": "04:03;04:09;04:10",
    "05-1": "05:01;05:02;05:03;05:04;05:05;05:06;05:07;05:08;05:09;05:10;05:11;05:12;05:13;05:14;05:15;05:16;05:17;05:18;05:19;05:20;05:21;05:22;05:23;05:24;05:25;05:26;05:27;05:28;05:29;05:30;05:31;05:32;05:33;05:34;05:35;05:36;05:37;05:38;05:39;05:40;05:41;05:42;05:43;05:44;05:45;05:46;05:47;05:48;05:49;05:50;05:51",
    "06-1": "06:01;06:02;06:03;06:04;06:05;06:06;06:07",
    "07-1": "07:01;07:02;07:03;07:04;07:05;07:06;07:07;07:08;07:09;07:10;07:11",
    "09-1": "09:01;09:02;09:03;09:04;09:05;09:06;09:07;09:08;09:09;09:10",
    "10-1": "10:01;10:02;10:03;10:04;10:05;10:06;10:07;10:09;10:10;10:11;10:12;10:13;10:14;10:16;10:17;10:18;10:19;10:20;10:21;10:22",
    "10-2": "10:08;10:15",
    "12-1": "12:01;12:02;12:03;12:04;12:05;12:06;12:07;12:08;12:09;12:13;12:14;12:15;12:16;12:17",
    "12-2": "12:10;12:11;12:12",
    "15-1": "15:01;15:02;15:03;15:04;15:05;15:06;15:07;15:08;15:09",
    "16-1": "16:05;16:06;16:08;16:09;16:10;16:12;16:14;16:15;16:16;16:17;16:20;16:21;16:22;16:24;16:33;16:34;16:35;16:37;16:38;16:40;16:49;16:50",
    "16-2": "16:01;16:02;16:03;16:07;16:11;16:13;16:18;16:19;16:23;16:25;16:26;16:27;16:28;16:29;16:30;16:31;16:32;16:36;16:39;16:41;16:42;16:43;16:44;16:45;16:46;16:47;16:48;16:51;16:52;16:53;16:54;16:55;16:56",
    "16-3": "16:04",
    "20-1": "20:01;20:02;20:03;20:04;20:05;20:06;20:07;20:08;20:09;20:10;20:11;20:12;20:13;20:14;20:15;20:16;20:17",
    "21-1": "21:01;21:02;21:03;21:04;21:05;21:06;21:07;21:08;21:09;21:10;21:11;21:12;21:13;21:14;21:15;21:16;21:17;21:18;21:19;21:20;21:21;21:22;21:23;21:24;21:25;21:26",
    "22-1": "22:03;22:05;22:06;22:08;22:09;22:11;22:18;22:22;22:23;22:28;22:29;22:32;22:37;22:40;22:45;22:46;22:53;22:56;22:71;22:72",
    "22-2": "22:01;22:14;22:16;22:17;22:21;22:24;22:26;22:27;22:30;22:31;22:35;22:36;22:38;22:39;22:47;22:49;22:50;22:52;22:54;22:55;22:58;22:59;22:60;22:61;22:62;22:63;22:67;22:68;22:70",
    "22-3": "22:02;22:04;22:07;22:10;22:12;22:13;22:15;22:19;22:20;22:25;22:33;22:34;22:41;22:42;22:43;22:44;22:48;22:51;22:57;22:64;22:65;22:66;22:69;22:73",
    "23-1": "23:01;23:04;23:07;23:08;23:10;23:11;23:12;23:13;23:15;23:19;23:25;23:26;23:27;23:28;23:30;23:31;23:33;23:36;23:37;23:40;23:41;23:42;23:43;23:45;23:47;23:48;23:51",
    "23-2": "23:02;23:03;23:05;23:06;23:09;23:14;23:16;23:17;23:18;23:20;23:21;23:22;23:23;23:24;23:29;23:32;23:34;23:35;23:38;23:39;23:44;23:46;23:49;23:50",
    "26-1": "26:01;26:02;26:04;26:05;26:06;26:07;26:08;26:11;26:12;26:15;26:16;26:17;26:18;26:23;26:24;26:29;26:30;26:31;26:32;26:33;26:34",
    "26-2": "26:03;26:09;26:10;26:13;26:14;26:19;26:20;26:21;26:22;26:25;26:26;26:27;26:28;26:35;26:36",
    "29-2": "29:00;29:05;29:06;29:12;29:13;29:15;29:16;29:17;29:22;29:25;29:26;29:27;29:28",
    "29-3": "29:01;29:02;29:04;29:07;29:08;29:11;29:14;29:18;29:19;29:20;29:23;29:24",
    "29-4": "29:03;29:09;29:10",
    "29-5": "29:21",
    "29-6": "29:29",
    "30-1": "30:01;30:03;30:07;30:08;30:10;30:11;30:13",
    "30-2": "30:02;30:04;30:05;30:06;30:09;30:12;30:14",
    "33-1": "33:01;33:02;33:03;33:04;33:05;33:06;33:07;33:08;33:09;33:10;33:11;33:12;33:13;33:14;33:15;33:16;33:17;33:18;33:19;33:20;33:21;33:22;33:24;33:25;33:26",
    "34-1": "34:01;34:03;34:04;34:06;34:08;34:09;34:11;34:12;34:13;34:16;34:17;34:19;34:20;34:21;34:22;34:24;34:25;34:26;34:27;34:30;34:31;34:32;34:33;34:37;34:38;34:39",
    "34-2": "34:02;34:05;34:07;34:10;34:14;34:15;34:18;34:23;34:28;34:29;34:36",
    "35-1": "35:01;35:02;35:18;35:19;35:20",
    "35-2": "35:03;35:04;35:05;35:11;35:21;35:22;35:23;35:24;35:25",
    "35-3": "35:06;35:07;35:12;35:13;35:26;35:27;35:28",
    "35-4": "35:08;35:09;35:10;35:14;35:15;35:16;35:17",
    "36-1": "36:07;36:11;36:12;36:13;36:14;36:15;36:16;36:18;36:19;36:24;36:25;36:26;36:27;36:28;36:31;36:33;36:34",
    "36-2": "36:01;36:02;36:03;36:04;36:05;36:06;36:08;36:09;36:10;36:17;36:20;36:21;36:22;36:23;36:29;36:30;36:32",
    "37-1": "37:06",
    "37-2": "37:01;37:02;37:03;37:04;37:05;37:07;37:08;37:09;37:10;37:11;37:12;37:13;37:14;37:15;37:16;37:18;37:19;37:20;37:21;37:22;37:27",
    "38-1": "38:14;38:29",
    "38-2": "38:11;38:15;38:21;38:30;38:37",
    "38-3": "38:01;38:02;38:04;38:05;38:06;38:10;38:12;38:16;38:17;38:19;38:20;38:25;38:26;38:27;38:28;38:31;38:32;38:33;38:34;38:35;38:36;85:01;85:03;85:04;85:05",
    "38-4": "38:03;38:08;38:13;38:18;38:23;85:02;85:06",
    "38-5": "38:07;38:09",
    "38-6": "38:24",
    "38-7": "38:22",
    "39-1": "39:01;39:02;39:03;39:04;39:05;39:06;39:07;39:08;39:09;39:10;39:11;39:12;39:13;39:14;39:15;39:16;39:17;39:18;39:19;39:20;39:21;39:22;39:23",
    "40-1": "40:01;40:02;40:03;40:04;40:05;40:06;40:07;40:08;40:09;40:10;40:11;40:12;40:13;40:14;40:15;40:16;40:17;40:18;40:19;40:20;40:21;40:22;40:23;40:24;40:25;40:26;40:27;40:28;40:29",
    "42-1": "42:01;42:02;42:03;42:04;42:06;42:10;42:11;42:14;42:17;42:18;42:19;42:20;42:21;42:22;42:23;42:24;42:25;42:26;42:32;42:33;42:35;42:36;42:38;42:39",
    "42-2": "42:05;42:07;42:08;42:09;42:12;42:13;42:15;42:16;42:27;42:28;42:29;42:30;42:31;42:34;42:37",
    "43-1": "43:01;43:08;43:10;43:13;43:16;43:18;43:23;43:25;43:26;43:27;43:28;43:29;43:33;43:37;43:39",
    "43-2": "43:03;43:04;43:06;43:07;43:09;43:11;43:12;43:14;43:15;43:17;43:19;43:20;43:21;43:24;43:30;43:31;43:32;43:34;43:35;43:36;43:38;43:40;43:41;43:42;43:43;43:44",
    "43-3": "43:02;43:05;43:22",
    "44-1": "44:01;44:02;44:04;44:07;44:08;44:13;44:15;44:20;44:21;44:22;44:23;44:25;44:26;44:27;44:32",
    "44-2": "44:05;44:06;44:09;44:10;44:11;44:12;44:17;44:19;44:24;44:28;44:31",
    "44-3": "44:03;44:14;44:16;44:18",
    "45-2": "45:01;45:02;45:03;45:04;45:05;45:06;45:07;45:08;45:09;45:12;45:16;45:17;45:18;45:20;45:21;45:22;45:23;45:24;45:25;45:26",
    "45-3": "45:10;45:11;45:13;45:14;45:15;45:19",
    "46-1": "46:01;46:02;46:03;46:05;46:06;46:07;46:09;46:10;46:11;46:12;46:13;46:15;46:16;46:17;46:18;46:19;46:20;46:22;46:23;46:25;46:26;46:28;46:29;46:30;46:31;46:32;46:33",
    "46-2": "46:04;46:08;46:14;46:21;46:24;46:27",
    "47-1": "47:01;47:02;47:20;47:21;47:28;47:30",
    "47-2": "47:03;47:04;47:08;47:09;47:10;47:11;47:12;47:14;47:15;47:16;47:17;47:22;47:23;47:24;47:25;47:26;47:27;47:29",
    "47-3": "47:05;47:06;47:13;47:18;47:19",
    "48-1": "48:01;48:02;48:03;48:04;48:05;48:06;48:07;48:08;48:09;48:10;48:11;48:12;48:13;48:14;48:15;48:16;48:17;48:18;48:19;48:20",
    "50-1": "50:00;50:02;50:03;50:06;50:07;50:08;50:18;50:19",
    "50-2": "50:01;50:04;50:05;50:09;50:10;50:11;50:12;50:13;50:14;50:15;50:16;50:17;50:20;50:21;50:22;50:23;50:24;50:25;50:27;50:28;50:29;50:30;50:31;50:32;50:33;50:34;50:35;50:36;50:37;50:38;50:39;50:40;50:41;50:42;50:43;50:44;50:45;50:46;50:47;50:48;50:49;50:50;50:51;50:52;50:53;50:55;50:56;50:57;50:58;50:59;50:60;50:62;50:64;50:65",
    "51-1": "51:01;51:02;51:03;51:04;51:05;51:06;51:07;51:08;51:09;51:10;51:11;51:12;51:13;51:14;51:15;51:16;51:17;51:18;51:19;51:20;51:21;51:23;51:25;51:27;51:28;51:29;51:30",
    "52-1": "52:36;52:37;52:38;52:39;52:52;52:53;52:54",
    "52-2": "52:01;52:05;52:06;52:07;52:08;52:09;52:11;52:12;52:13;52:15;52:17;52:20;52:24;52:26;52:27;52:28;52:29;52:30;52:31;52:32;52:34;52:35;52:41;52:42;52:43;52:44;52:45;52:46;52:47;52:48;52:49;52:50;52:51;52:55;52:56;52:57;52:58;52:59",
    "52-3": "52:02;52:03;52:04;52:10",
    "53-1": "53:01;53:04;53:16;53:21",
    "53-2": "53:03;53:05;53:06;53:07;53:08;53:09;53:11;53:12;53:13;53:15;53:17;53:19;53:20;53:23;53:24",
    "53-3": "53:02;53:10;53:14;53:18;53:22",
    "54-1": "54:23;54:26;54:37",
    "54-2": "54:01;54:02;54:04;54:06;54:08;54:14;54:15;54:16;54:21;54:27;54:29;54:31;54:34",
    "54-3": "54:05;54:09;54:11;54:12;54:19;54:20;54:25;54:30",
    "54-4": "54:03;54:07;54:10;54:13;54:17;54:18;54:22;54:24;54:28;54:32;54:33;54:35;54:36",
    "55-1": "55:01;55:03;55:06;55:10;55:11;55:12;55:13;55:15;55:18;55:22;55:28;55:29;55:30;55:32;55:33;55:35;55:38",
    "55-2": "55:02;55:04;55:05;55:07;55:08;55:09;55:14;55:16;55:17;55:19;55:20;55:21;55:23;55:24;55:25;55:26;55:27;55:31;55:34;55:36;55:37",
    "56-1": "56:05;56:07;56:08;56:10;56:16;56:17;56:22;56:28;56:30;56:31;56:32;56:37;56:38;56:45",
    "56-2": "56:01;56:03;56:04;56:06;56:12;56:14;56:19;56:20;56:21;56:23;56:24;56:25;56:26;56:29;56:33;56:34;56:36;56:44;56:47",
    "56-3": "56:09;56:11;56:13;56:15;56:18;56:39;56:40;56:41;56:42;56:43",
    "56-4": "56:02;56:27;56:35;56:46",
    "58-1": "58:01;58:02;58:03;58:04;58:06;58:08;58:10;58:12;58:18;58:19;58:21;58:23;58:25;58:27;58:30;58:32",
    "58-2": "58:05;58:07;58:09;58:11;58:13;58:14;58:15;58:16;58:17;58:20;58:22;58:24;58:26;58:28;58:29;58:31;58:34",
    "59-1": "59:12;59:15;59:16;59:19;59:21;59:31;59:33;59:38;81:01;81:02;81:03;81:04;81:06;81:07",
    "59-2": "59:01;59:02;59:03;59:04;59:05;59:06;59:07;59:08;59:09;59:10;59:11;59:13;59:14;59:18;59:20;59:22;59:23;59:24;59:25;59:26;59:27;59:28;59:29;59:30;59:32;59:34;59:35;59:36;59:37;59:39;59:40;59:41;81:05",
    "59-3": "59:17",
    "60-1": "60:03;60:06;60:10;60:12;60:13;60:14;60:15;60:16;60:18;60:19;60:20;60:21;60:22;60:23;60:27",
    "60-2": "60:01;60:02;60:04;60:05;60:07;60:08;60:09;60:11;60:17;60:24;60:25",
    "61-1": "61:01;61:19;61:21;61:25;61:26;61:45;61:58",
    "61-2": "61:02;61:03;61:04;61:05;61:06;61:07;61:08;61:10;61:12;61:14;61:15;61:16;61:17;61:18;61:20;61:22;61:23;61:24;61:27;61:28;61:29;61:30;61:31;61:33;61:34;61:35;61:36;61:37;61:38;61:39;61:40;61:41;61:42;61:43;61:44;61:46;61:47;61:48;61:49;61:50;61:51;61:52;61:53;61:54;61:55;61:56;61:57;61:59",
    "61-3": "61:09;61:11;61:13;61:32",
    "62-1": "62:02;62:07;62:08;62:11;62:13;62:15;62:19;62:21;62:28;62:29",
    "62-2": "62:01;62:03;62:04;62:05;62:09;62:10;62:12;62:14;62:16;62:17;62:18;62:20;62:22;62:23;62:24;62:25;62:26;62:27",
    "63-1": "63:01;63:02;63:04;63:05;63:08;63:09;63:10;63:12;63:14;63:17;63:18;63:24;63:25;63:26;63:28;63:30;63:32;63:33;63:34;63:37",
    "63-2": "63:03;63:06;63:07;63:11;63:13;63:15;63:16;63:19;63:20;63:21;63:22;63:23;63:27;63:29;63:31;63:35;63:36",
    "64-1": "64:02;64:06;64:12;64:15;64:29;64:30;64:31;64:35;64:41;64:47",
    "64-2": "64:03;64:04;64:07;64:08;64:09;64:16;64:19;64:20;64:21;64:25;64:26;64:28;64:32;64:33;64:34;64:37;64:38;64:39;64:42;64:43;64:44;64:45;64:48;64:50;64:51;64:52",
    "64-3": "64:01;64:05;64:10;64:11;64:13;64:14;64:17;64:18;64:22;64:23;64:24;64:27;64:36;64:40;64:46;64:49",
    "65-1": "65:01;65:02;65:03;65:04;65:05;65:06;65:07;65:08;65:09;65:10;65:11;65:12;65:13;65:14;65:15;65:16;65:17;65:18;65:19;65:20;65:21;65:22;65:23;65:24;65:28",
    "65-2": "65:25",
    "65-3": "65:26;65:29",
    "65-5": "65:27",
    "66-1": "66:01;66:02;66:03;66:04;66:06;66:07;66:08;66:09;66:10;66:11;66:12;66:13;66:14;66:15;66:16;66:17;66:18;66:19;66:21;66:22;66:23;66:25;66:31;66:32;66:33;66:34;66:35;66:36;66:37;66:38;66:39;66:40;66:41;66:42;66:43;66:44;66:45;66:46;66:47;66:48;66:49;66:50;66:51;66:52;66:53;66:54;66:55;66:56;66:57;66:58;66:59;66:60;66:61;66:62;66:63;66:65;66:66;66:67;66:68;66:69;66:70;66:71;66:72;66:73",
    "66-2": "66:05;66:20;66:24;66:26;66:27;66:28;66:29;66:30",
    "67-1": "67:01;67:04;67:05;67:06;67:07;67:08;67:09;67:10;67:11;67:12;67:14;67:15;67:16;67:17;67:18;67:22;67:23;67:24;67:25;67:26;67:27",
    "67-2": "67:02;67:03;67:13;67:19;67:20;67:21",
    "68-1": "68:01;68:02;68:03;68:04;68:05;68:06;68:07;68:08;68:09;68:10;68:11;68:12;68:13;68:14;68:15;68:16;68:17;68:18;68:19;68:20;68:21;68:22;68:23;68:24;68:25;68:26;68:27;68:28;68:29;68:30",
    "69-1": "69:01;69:03;69:07;69:08;69:22;69:23;69:24;69:25;69:29;69:34;69:44;69:45;69:50",
    "69-2": "69:02;69:04;69:06;69:09;69:10;69:15;69:17;69:18;69:19;69:20;69:21;69:26;69:27;69:28;69:31;69:32;69:33;69:35;69:36;69:37;69:38;69:39;69:40;69:43;69:46;69:47;69:48;69:49",
    "69-3": "69:05;69:11;69:12;69:13;69:14;69:16;69:30;69:41;69:42",
    "70-2": "70:01;70:06;70:20",
    "70-3": "70:03;70:11;70:18",
    "70-4": "70:00;70:07;70:08;70:09;70:10;70:14;70:15;70:16;70:19;70:21;70:22",
    "70-5": "70:02;70:04;70:05;70:12;70:13;70:17",
    "71-1": "71:01;71:02;71:03;71:04;71:05;71:06;71:07;71:08;71:09;71:10;71:11;71:12;71:13;71:14;71:15;71:16;71:17;71:18;71:19;71:20;71:21;71:22;71:23;71:24;71:25;71:26;71:27;71:28;71:29;71:30;71:31;71:32",
    "73-1": "73:01;73:02;73:03;73:04;73:05;73:09;73:12;73:17;73:22",
    "73-2": "73:06;73:07;73:08;73:10;73:11;73:13;73:14;73:15;73:16;73:18;73:19;73:20;73:21;73:23;73:24",
    "76-1": "76:01;76:02;76:03;76:04;76:07;76:08;76:10;76:11;76:12;76:13;76:14;76:15;76:16;76:17;76:18;76:19;76:20;76:21;76:22;76:23",
    "76-2": "76:05;76:06;76:09",
       "77-МГГТ": "77:01;77:02;77:03;77:04;77:05;77:06;77:07;77:08;77:09;77:10;77:11;77:12;77:13;77:14;77:15;77:16;77:17;77:18;77:19;77:20;77:21;77:22",
  "78-1964": "78:06;78:07;78:10;78:11;78:12;78:13;78:14;78:15;78:31;78:32;78:34;78:36;78:37;78:38;78:40;78:42;78:43;78:44;78:45",
    "83-5": "83:00",
    "86-1": "86:05;86:09;86:10;86:22",
    "86-2": "86:01;86:02;86:06;86:07;86:12;86:13;86:14",
    "86-3": "86:03;86:08;86:10;86:15;86:17;86:20",
    "86-4": "86:04;86:11;86:16;86:18;86:19;86:21",
    "90-1": "90:06;90:09;90:10;90:11;90:14;90:16;90:18;90:20;90:21;90:26;91:01;91:02;91:03;91:04;91:05",
    "90-2": "90:01;90:02;90:03;90:04;90:05;90:07;90:08;90:12;90:13;90:15;90:17;90:19;90:22;90:23;90:24;90:25;90:27"
  };

  // 2. Создаем пустой объект для быстройго поиска.
  // Он будет иметь вид: { "16:56": "16-2", "01:05": "01-1", ... }
  const lookupMap = {};

  // 3. Функция для преобразования исходных данных в карту для поиска.
  // Эта функция вызывается один раз при загрузке скрипта.
  function initializeLookupMap() {
    // Проходим по каждому коду МСК в исходных данных
    for (const mskCode in mskSourceData) {
      // Получаем строку с кадастровыми кварталами и разбиваем ее на массив
      const cadastralQuarters = mskSourceData[mskCode].split(';');
      
      // Проходим по каждому кварталу в массиве
      for (const quarter of cadastralQuarters) {
        // Добавляем запись в нашу карту поиска
        if (quarter) { // Проверка на случай пустых строк
            lookupMap[quarter] = mskCode;
        }
      }
    }
  }
  
  // 4. Сразу же инициализируем карту, чтобы она была готова к работе
  initializeLookupMap();

  // 5. Возвращаем объект с одной публичной функцией `findMskCode`
  return {
    /**
     * Находит код МСК по полному кадастровому номеру.
     * @param {string} fullCadastralNumber - Полный кадастровый номер, например "16:56:010110:5".
     * @returns {string|null} - Возвращает найденный код МСК (например, "16-2") или null, если ничего не найдено.
     */
    findMskCode: function(fullCadastralNumber) {
      // Проверяем, что на вход подана непустая строка
      if (!fullCadastralNumber || typeof fullCadastralNumber !== 'string') {
        return null;
      }

      // Разбиваем кадастровый номер по двоеточию
      const parts = fullCadastralNumber.split(':');

      // Нам нужны как минимум две части (округ и район)
      if (parts.length < 2) {
        return null;
      }

      // Формируем ключ для поиска (первые две части номера)
      const searchKey = `${parts[0]}:${parts[1]}`; // например, "16:56"

      // Ищем ключ в нашей подготовленной карте и возвращаем результат.
      // Если ключа нет, `lookupMap[searchKey]` вернет `undefined`, и мы вернем `null`.
      return lookupMap[searchKey] || null;
    }
  };
})();