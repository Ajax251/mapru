<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Карта</title>
    <link rel="icon" href="https://i.ibb.co/93fdcD1/maps-icon-icons-com-72040.png" type="image/png">
    <link id="favicon" rel="icon" href="https://i.ibb.co/93fdcD1/maps-icon-icons-com-72040.png" type="image/png">
    <link rel="stylesheet" href="webfonts/all.min.css">
    <style>
        body {
            font-family: Arial, sans-serif;
            display: flex;
            justify-content: center;
            align-items: center;
            height: 100vh;
            margin: 0;
            transition: background 5s ease-in-out;
            overflow: hidden;
        }
        .container {
            background-color: rgba(255, 255, 255, 0.1);
            backdrop-filter: blur(3px);
            border: 1px solid rgba(255, 255, 255, 0.1);
            padding: 30px;
            border-radius: 20px;
            box-shadow: 0 8px 32px rgba(0, 0, 0, 0.1);
            text-align: center;
            width: 400px;
            position: absolute;
            transition: all 0.3s ease;
            animation: containerAppear 0.5s ease-out forwards;
            opacity: 0;
        }
        .container:hover {
            background-color: rgba(255, 255, 255, 0.2);
            box-shadow: 0 12px 48px rgba(0, 0, 0, 0.2);
        }
        .container:active {}
        h1 {
            margin-bottom: 20px;
            font-size: 24px;
            color: #333;
            transition: color 0.3s, transform 0.3s;
            text-shadow: 1px 1px 2px rgba(0, 0, 0, 0.1);
        }
        h1.text-address {
            color: #007BFF;
        }
        h1.text-cadastral {
            color: #28a745;
        }
        input[type="text"] {
            width: calc(100% - 22px);
            padding: 12px;
            margin-bottom: 20px;
            border: none;
            border-radius: 10px;
            font-size: 16px;
            box-shadow: inset 0 2px 4px rgba(0, 0, 0, 0.1), 0 4px 8px rgba(0, 0, 0, 0.1);
            transition: all 0.3s ease;
            background: rgba(255, 255, 255, 0.8);
            text-align: center;
        }
        input[type="text"]:focus {
            box-shadow: inset 0 2px 4px rgba(0, 123, 255, 0.1), 0 6px 12px rgba(0, 123, 255, 0.2);
            outline: none;
            background: rgba(255, 255, 255, 1);
        }
        .buttons {
            display: flex;
            flex-direction: column;
            gap: 8px;
        }
        .buttons a {
            display: flex;
            align-items: center;
            justify-content: center;
            padding: 12px 15px;
            border-radius: 8px;
            text-decoration: none;
            transition: all 0.3s ease;
            box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);
            font-size: 16px;
            position: relative;
            overflow: hidden;
            z-index: 1;
            margin-bottom: 5px;
            color: white;
        }
        .pkk {
            background-color: #007BFF;
        }
        .rosreestr {
            background-color: #ff5c00;
        }
        .egrp {
            background-color: #FFC107;
        }
        .yandex {
            background-color: #FF0000;
        }
        .google {
            background-color: #4285F4;
        }
        .earth {
            background-color: #34A853;
        }
        .bing {
            background-color: #008272;
        }
        .gis {
            background-color: #00BFFF;
        }
        .kadastrmap {
            background-color: #28a745;
        }
        .buttons a:hover {
            box-shadow: 0 6px 12px rgba(0, 0, 0, 0.15);
            transform: translateY(-3px);
        }
        .buttons a::before {
            content: '';
            position: absolute;
            top: 0;
            left: -100%;
            width: 100%;
            height: 100%;
            background: linear-gradient(120deg, transparent, rgba(255, 255, 255, 0.3), transparent);
            transition: all 0.6s;
            z-index: -1;
        }
        .buttons a:hover::before {
            left: 100%;
        }
        .buttons a span {
            position: relative;
            z-index: 2;
            pointer-events: none;
        }
        .buttons a img {
            width: 24px;
            height: 24px;
            margin-right: 8px;
            transition: transform 0.3s ease;
            pointer-events: none;
        }
        .buttons a:hover img {
            transform: scale(1.1) rotate(5deg);
        }
        #f9Corner {
            position: absolute;
            top: 0;
            left: 0;
            width: 26px;
            height: 26px;
            z-index: 1001;
        }
        @keyframes pulse {
            0% {
                transform: scale(1);
            }
            50% {
                transform: scale(1.1);
            }
            100% {
                transform: scale(1);
            }
        }
        .buttons a:hover img {
            animation: pulse 1s infinite;
        }
        .checkbox-container {
            position: fixed;
            bottom: 10px;
            right: 10px;
            display: flex;
            align-items: center;
            background-color: rgba(0, 0, 0, 0.05);
            padding: 5px 10px;
            border-radius: 20px;
            transition: background-color 0.3s ease-in-out, transform 0.3s ease-in-out, opacity 0.3s ease-in-out;
            opacity: 0.05;
        }
        .checkbox-container:hover {
            background-color: rgba(0, 0, 0, 0.7);
            opacity: 1;
        }
        .checkbox-container label {
            margin-left: 10px;
            color: #fff;
            font-size: 14px;
            cursor: pointer;
            transition: opacity 0.3s ease-in-out;
            opacity: 0.15;
        }
        .checkbox-container:hover label {
            opacity: 1;
        }
        .switch {
            position: relative;
            display: inline-block;
            width: 60px;
            height: 34px;
        }
        .switch input {
            opacity: 0;
            width: 0;
            height: 0;
        }
        .slider {
            position: absolute;
            cursor: pointer;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background-color: #ccc;
            transition: .4s;
        }
        .slider:before {
            position: absolute;
            content: "";
            height: 26px;
            width: 26px;
            left: 4px;
            bottom: 4px;
            background-color: white;
            transition: .4s;
        }
        input:checked + .slider {
            background-color: #2196F3;
        }
        input:checked + .slider:before {
            transform: translateX(26px);
        }
        .slider.round {
            border-radius: 34px;
        }
        .slider.round:before {
            border-radius: 50%;
        }
        /* Мобильная версия */
        @media (max-width: 768px), (orientation: portrait) {
            .container {
                width: 90%;
                padding: 15px;
            }
            .buttons a {
                padding: 10px;
                font-size: 14px;
            }
            .buttons a img {
                width: 20px;
                height: 20px;
            }
            h1 {
                font-size: 20px;
            }
            input[type="text"] {
                font-size: 14px;
            }
        }
        .buttons a::after {
            content: '';
            position: absolute;
            top: -50%;
            left: -50%;
            width: 200%;
            height: 200%;
            background: radial-gradient(circle, rgba(255, 255, 255, 0.3) 0%, rgba(255, 255, 255, 0) 80%);
            opacity: 0;
            transition: opacity 0.3s, transform 0.3s;
            transform: scale(0.7);
            pointer-events: none;
        }
        .buttons a:hover::after {
            opacity: 1;
            transform: scale(1);
        }
        .yandex-nav {
            position: relative;
            display: flex;
            align-items: center;
            justify-content: center;
        }
        .yandex-nav span {
            display: flex;
            align-items: center;
            justify-content: center;
        }
        .yandex-nav img {
            margin-right: 8px;
            vertical-align: middle;
        }
        .yandex-nav input {
            display: none;
            width: 100%;
            padding: 10px;
            border: none;
            border-radius: 12px;
            font-size: 14px;
            color: #000;
        }
        .yandex-nav.active span {
            display: none;
        }
        .yandex-nav.active input {
            display: block;
        }
        .rosreestr-menu {
            position: fixed;
            top: 0;
            right: 0;
            z-index: 1000;
            width: 40px;
            height: 40px;
        }
        .rosreestr-dropdown {
            display: none;
            position: absolute;
            top: 0;
            right: 0;
            background-color: rgba(65, 105, 225, 0.3);
            border-radius: 0 0 0 10px;
            overflow: hidden;
            box-shadow: 0 8px 16px rgba(0, 0, 0, 0.2);
            width: 200px;
        }
        .rosreestr-menu:hover {
            opacity: 1;
        }
        .rosreestr-menu-icon {
            position: absolute;
            top: 10px;
            right: 10px;
            width: 30px;
            height: 30px;
            background-color: rgba(65, 105, 225, 0.2);
            border-radius: 50%;
            display: flex;
            justify-content: center;
            align-items: center;
            color: white;
            font-size: 18px;
            transition: background-color 0.3s ease, opacity 0.3s ease;
            opacity: 0;
        }
        .rosreestr-menu:hover .rosreestr-menu-icon {
            opacity: 1;
            background-color: rgba(65, 105, 225, 1);
        }
        .rosreestr-dropdown.show {
            display: block;
            animation: slideDown 0.1s ease forwards;
        }
        .rosreestr-dropdown a {
            display: flex;
            align-items: center;
            color: white;
            padding: 12px 16px;
            text-decoration: none;
            transition: background-color 0.3s ease;
        }
        .rosreestr-dropdown a:hover {
            background-color: rgba(255, 255, 255, 0.1);
        }
        .rosreestr-dropdown i {
            margin-right: 10px;
            width: 20px;
            text-align: center;
        }
        .rosreestr-dropdown .separator {
            height: 1px;
            background-color: rgba(255, 255, 255, 0.2);
            margin: 5px 0;
        }
        @keyframes slideDown {
            from {
                opacity: 0;
                transform: translateY(-10px);
            }
            to {
                opacity: 1;
                transform: translateY(0);
            }
        }
        .rosreestr-dropdown {
            display: none;
            position: fixed;
            top: 10px;
            right: 60px;
            background-color: rgba(65, 105, 225, 0.9);
            border-radius: 10px;
            overflow: hidden;
            box-shadow: 0 8px 16px rgba(0, 0, 0, 0.2);
            width: 200px;
            z-index: 1001;
        }
        .rosreestr-dropdown.show {
            display: block;
            animation: slideDown 0.1s ease forwards;
        }
        @keyframes slideDown {
            from {
                opacity: 0;
                transform: translateY(-10px);
            }
            to {
                opacity: 1;
                transform: translateY(0);
            }
        }
        .social-icons {
            position: fixed;
            top: 50%;
            right: 10px;
            transform: translateY(-50%);
            display: flex;
            flex-direction: column;
            gap: 10px;
            z-index: 1000;
        }
        .social-icons a {
            display: flex;
            justify-content: center;
            align-items: center;
            width: 40px;
            height: 40px;
            border-radius: 50%;
            text-decoration: none;
            transition: all 0.3s ease;
            box-shadow: 0 2px 5px rgba(0, 0, 0, 0.2);
        }
        .social-icons a:hover {
            transform: scale(1.1);
            box-shadow: 0 4px 8px rgba(0, 0, 0, 0.3);
        }
        .social-icons i {
            font-size: 24px;
        }
        .social-icons .whatsapp {
            background-color: #25D366;
            color: white;
        }
        .social-icons .telegram {
            background-color: #0088cc;
            color: white;
        }
        .social-icons .rosreestr {
            background-color: #4169E1;
            border-radius: 50%;
            width: 40px;
            height: 40px;
            display: flex;
            justify-content: center;
            align-items: center;
        }
        .social-icons .rosreestr img {
            width: 32px;
            height: 32px;
        }
        .left-menu {
            position: fixed;
            top: 50%;
            left: 10px;
            transform: translateY(-50%);
            display: flex;
            flex-direction: column;
            gap: 10px;
            z-index: 1000;
        }
        .left-menu img {
            width: 32px;
            height: 32px;
        }
        .left-menu a {
            display: flex;
            justify-content: center;
            align-items: center;
            width: 40px;
            height: 40px;
            border-radius: 50%;
            text-decoration: none;
            transition: all 0.3s ease;
            box-shadow: 0 2px 5px rgba(0, 0, 0, 0.2);
            background-color: #4169E1;
        }
        .left-menu a:hover {
            transform: scale(1.1);
            box-shadow: 0 4px 8px rgba(0, 0, 0, 0.3);
        }
        .left-menu i {
            font-size: 24px;
            color: white;
        }
        .left-dropdown {
            display: none;
            position: fixed;
            left: 60px;
            top: 50%;
            transform: translateY(-50%);
            background-color: rgba(65, 105, 225, 0.9);
            border-radius: 10px;
            overflow: hidden;
            box-shadow: 0 8px 16px rgba(0, 0, 0, 0.2);
            width: 250px;
            z-index: 1001;
        }
        .left-dropdown.show {
            display: block;
            animation: slideRight 0.1s ease forwards;
        }
        .left-dropdown a {
            display: flex;
            align-items: center;
            color: white;
            padding: 12px 16px;
            text-decoration: none;
            transition: background-color 0.3s ease;
        }
        .left-dropdown a:hover {
            background-color: rgba(255, 255, 255, 0.1);
        }
        .left-dropdown i {
            margin-right: 10px;
            width: 20px;
            text-align: center;
        }
        .left-dropdown .separator {
            height: 1px;
            background-color: rgba(255, 255, 255, 0.2);
            margin: 5px 0;
        }
        @keyframes slideRight {
            from {
                opacity: 0;
                transform: translate(-10px, -50%);
            }
            to {
                opacity: 1;
                transform: translate(0, -50%);
            }
        }
        .social-icons,
        .left-menu {
            transition: opacity 0.3s ease-in-out;
            opacity: 0;
        }
        .social-icons:hover,
        .left-menu:hover,
        .social-icons.visible,
        .left-menu.visible {
            opacity: 1;
        }
        .social-icons,
        .left-menu {
            transition: opacity 0.3s ease-in-out;
            opacity: 0;
            pointer-events: none;
        }
        .social-icons.visible,
        .left-menu.visible {
            opacity: 1;
            pointer-events: auto;
        }
        .roscadastres {
            background-color: #2196F3;
        }
        @keyframes pageFlash {
            0% {
                background-color: rgba(255, 255, 255, 0);
            }
            50% {
                background-color: rgba(255, 255, 255, 1);
            }
            100% {
                background-color: rgba(255, 255, 255, 0);
            }
        }
        @keyframes containerAppear {
            0% {
                opacity: 0;
                transform: scale(0.8);
            }
            100% {
                opacity: 1;
                transform: scale(1);
            }
        }
        body {
            animation: pageFlash 0.5s ease-out;
        }
        .container {
            display: none;
            opacity: 0;
        }
        .container.show {
            display: block;
            animation: containerAppear 0.5s ease-out 0.5s forwards;
        }
        #f9CornerRight {
            position: absolute;
            top: 0;
            right: 0;
            width: 26px;
            height: 26px;
            z-index: 1001;
        }
        .f9-mode .ai-search {
            background-color: #FF4500
        }
        .f9-mode .pharmacies {
            background-color: #00FF00;
        }
        .f9-mode .audiobooks {
            background-color: #1E90FF;
        }
        .f9-mode .quotes {
            background-color: #8A2BE2;
        }
        .f9-mode .marketplaces {
            background-color: #FF1493;
        }
        .f9-mode .organizations {
            background-color: #FFD700;
        }
        .f9-mode .legal-systems {
            background-color: #00cec8;
        }
        .f9-button {
            display: flex;
            align-items: center;
            justify-content: center;
            padding: 12px 15px;
            border-radius: 8px;
            text-decoration: none;
            box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);
            font-size: 16px;
            position: relative;
            overflow: hidden;
            z-index: 1;
            margin-bottom: 5px;
            color: white;
            background-color: #1F75FE;
            transition: transform 0.3s ease;
        }
        .f9-mode .f9-button:hover {
            transform: scale(1.0);
            transition: all 0.2s ease;
        }
        .f9-button:hover {
            box-shadow: 0 6px 12px rgba(0, 0, 0, 0.15);
            transform: translateY(-3px);
        }
        .f9-button::before {
            content: '';
            position: absolute;
            top: 0;
            left: -100%;
            width: 100%;
            height: 100%;
            background: linear-gradient(120deg, transparent, rgba(255, 255, 255, 0.3), transparent);
            transition: all 0.6s;
            z-index: -1;
        }
        .f9-button i {
            margin-right: 8px;
        }
        @keyframes pulse {
            0% {
                transform: scale(1);
            }
            50% {
                transform: scale(1.1);
            }
            100% {
                transform: scale(1);
            }
        }
        @keyframes f9ButtonPulse {
            0% {
                transform: scale(1);
            }
            50% {
                transform: scale(1.1);
            }
            100% {
                transform: scale(1);
            }
        }
        #f9CornerRight {
            position: fixed;
            top: 10px;
            right: 10px;
            width: 30px;
            height: 30px;
            cursor: pointer;
            z-index: 1001;
            border-radius: 50%;
            overflow: hidden;
            transition: all 0.3s ease;
        }
        #f9CornerRight img {
            width: 30px;
            height: 30px;
            transition: opacity 0.3s ease;
            opacity: 0.1;
            transition: all 0.3s ease;
        }
        #f9CornerRight:hover img {
            opacity: 0.8;
            transform: scale(1.3);
        }
        #f9CornerRight:hover {
            box-shadow: 0 0 10px rgba(0, 123, 255, 0.7);
        }
        .ai-search {
            background-color: #ff5c00;
        }
        @keyframes pulse-and-rotate {
            0% {
                transform: scale(1) rotate(0deg);
                box-shadow: 0 0 0 0 rgba(0, 123, 255, 0.7);
            }
            50% {
                transform: scale(1.2) rotate(180deg);
                box-shadow: 0 0 0 10px rgba(0, 123, 255, 0);
            }
            100% {
                transform: scale(1) rotate(360deg);
                box-shadow: 0 0 0 0 rgba(0, 123, 255, 0);
            }
        }
        .pulse-rotate {
            animation: pulse-and-rotate 0.6s ease-in-out;
        }
        @keyframes fadeInRotate {
            from {
                opacity: 0;
                transform: rotate(-90deg) scale(0.5);
            }
            to {
                opacity: 1;
                transform: rotate(0) scale(1);
            }
        }
        .social-icons a,
        .left-menu a {
            opacity: 0;
            transform: rotate(-90deg) scale(0.5);
            transition: all 0.3s ease;
        }
        .social-icons.visible a,
        .left-menu.visible a {
            animation: fadeInRotate 0.5s ease forwards;
        }
        .social-icons a:nth-child(2),
        .left-menu a:nth-child(2) {
            animation-delay: 0.1s;
        }
        .social-icons a:nth-child(3),
        .left-menu a:nth-child(3) {
            animation-delay: 0.2s;
        }
        @keyframes popIn {
            0% {
                transform: scale(0);
                opacity: 0;
            }
            60% {
                transform: scale(1.2);
                opacity: 1;
            }
            100% {
                transform: scale(1);
                opacity: 1;
            }
        }
        .social-icons.visible,
        .left-menu.visible {
            animation: popIn 0.5s ease forwards;
        }
        #sunbeam {
            position: fixed;
            top: -100%;
            left: -100%;
            width: 300%;
            height: 300%;
            background: linear-gradient(to bottom right, rgba(255, 255, 255, 0) 0%, rgba(255, 255, 255, 0.1) 45%, rgba(255, 255, 255, 0.5) 50%, rgba(255, 255, 255, 0.1) 55%, rgba(255, 255, 255, 0) 100%);
            pointer-events: none;
            opacity: 0;
            transition: opacity 2s ease-in-out;
            z-index: 9999;
        }
        .sunbeam-active {
            animation: sunbeam 4s ease-in-out;
        }
        @keyframes sunbeam {
            0% {
                opacity: 0;
            }
            20%,
            80% {
                opacity: 1;
            }
            100% {
                opacity: 0;
            }
        }
        .bottom-centered-container {
            position: fixed;
            bottom: 20px;
            left: 50%;
            transform: translateX(-50%);
            display: flex;
            gap: 15px;
            align-items: center;
            z-index: 9999;
            padding: 10px;
        }
        .left-menu.in-bottom-row {
            position: static;
            display: inline-flex;
            flex-direction: row;
            margin: 0;
        }
        .social-icons.in-bottom-row {
            position: static;
            display: inline-flex;
            flex-direction: row;
            margin: 0;
        }
        .click-area {
            position: absolute;
            top: 10px;
            left: 50%;
            transform: translateX(-50%);
            width: 25mm;
            /* примерно 2 см */
            height: 25mm;
            /* примерно 2 см */
            z-index: 9999;
        }
        /* Добавьте эти стили в существующую секцию <style> */
        .social-icons a,
        .left-menu a {
            position: relative;
            overflow: hidden;
        }
        /* Эффект свечения для кнопок */
        .social-icons a::before,
        .left-menu a::before {
            content: '';
            position: absolute;
            top: -50%;
            left: -50%;
            width: 200%;
            height: 200%;
            background: radial-gradient(circle, rgba(255, 255, 255, 0.3) 0%, rgba(255, 255, 255, 0.1) 30%, transparent 70%);
            transform: scale(0);
            transition: transform 0.4s ease-out, opacity 0.3s ease-out;
            pointer-events: none;
            opacity: 0;
        }
        /* Активация эффекта при наведении */
        .social-icons a:hover::before,
        .left-menu a:hover::before {
            transform: scale(1);
            opacity: 1;
        }
        /* Дополнительный эффект тени при наведении */
        .social-icons a:hover,
        .left-menu a:hover {
            box-shadow: 0 0 15px rgba(255, 255, 255, 0.3), 0 0 25px rgba(255, 255, 255, 0.2), 0 0 35px rgba(255, 255, 255, 0.1);
            transform: scale(1.0);
            z-index: 2;
        }
        /* Плавная анимация для иконок внутри кнопок */
        .social-icons a i,
        .left-menu a i,
        .social-icons a img,
        .left-menu a img {
            position: relative;
            
       

            z-index: 1;
            transition: all 0.3s ease;
        }
        /* Эффект для иконок при наведении */
        .social-icons a:hover i,
        .left-menu a:hover i,
        .social-icons a:hover img,
        .left-menu a:hover img {
            transform: scale(1.1);
            filter: brightness(1.2);
        }
        .site-search {
            background-color: rgba(255, 255, 255, 0.2) !important;
            backdrop-filter: blur(5px);
        }
        .site-search input {
            display: none;
            width: 100%;
            padding: 10px;
            border: none;
            border-radius: 12px;
            font-size: 14px;
            color: #000;
            background: rgba(255, 255, 255, 0.9);
        }
        .site-search.active span {
            display: none;
        }
        .site-search.active input {
            display: block;
        }
        /* Добавление градиентной обводки при наведении */
        /*
.social-icons a:hover, .left-menu a:hover {
    border: 1px solid transparent;
    background-origin: border-box;
    background-clip: content-box, border-box;
    background-image:
        linear-gradient(to right, rgba(255, 255, 255, 0.1), rgba(255, 255, 255, 0.3));
}
*/
    </style>
</head>
<body>
    <div id="sunbeam"></div>
    <div class="hover-area-left"></div>
    <div class="hover-area-right"></div>
    <canvas id="snowCanvas" style="position: fixed; top: 0; left: 0; pointer-events: none; z-index: 9998;"></canvas>
    <div class="container" id="draggableContainer">
        <h1 id="searchTitle"></h1>
        <input type="text" id="searchText" placeholder="">
        <div class="buttons" id="numberButtons">
            <a href="#" class="pkk" id="pkkButton"><img src="https://nspd.gov.ru/assets/favicon.ico" alt="PKK"><span>Публичная Карта</span></a>
            <a href="#" class="rosreestr" id="rosreestrButton"><img src="https://img.icons8.com/?size=100&id=DwGn7dCaUcoh&format=png&color=000000" alt="Rosreestr"><span>Rosreestr-Doc</span></a>
            <a href="#" class="egrp" id="egrpButton"><img src="https://img.icons8.com/?size=100&id=vb6KFQas4NTc&format=png&color=000000" alt="EGRP"><span>Egrp-365</span></a>
            <a href="#" class="kadastrmap" id="kadastrmapButton"><img src="https://work.kadastrmap.info/favicon.ico" alt="KadastrMap"><span>Kadastr-Map</span></a>
            <a href="#" class="roscadastres" id="roscadastresButton"><img src="https://b.roscadastres.com/favicon.ico" alt="Ros-Cadastres"><span>Ros-Cadastres</span></a>
        </div>
        <div class="buttons" id="addressButtons" style="display: none;">
            <a href="#" class="pkk" id="addressPKKButton"><img src="https://nspd.gov.ru/assets/favicon.ico" alt="PKK"><span>Публичная Карта</span></a>
            <a href="#" class="kadastrmap" id="addressKadastrmapButton"><img src="https://work.kadastrmap.info/favicon.ico" alt="KadastrMap"><span>Kadastr-Map</span></a>
            <a href="#" class="yandex" id="yandexButton"><img src="https://img.icons8.com/?size=100&id=QMAVPzQQiv0u&format=png&color=000000" alt="Yandex"><span>Yandex Карты</span></a>
            <a href="#" class="google" id="googleButton"><img src="https://img.icons8.com/?size=100&id=32215&format=png&color=000000" alt="Google"><span>Google Карты</span></a>
            <a href="#" class="earth" id="earthButton"><img src="https://img.icons8.com/?size=100&id=63764&format=png&color=000000" alt="Earth"><span>Планета Земля</span></a>
            <a href="#" class="bing" id="bingButton"><img src="https://www.bing.com/favicon.ico" alt="Bing"><span>Bing Карты</span></a>
            <a href="#" class="gis" id="gisButton"><img src="https://2gis.ru/favicon.ico" alt="2GIS"><span>2ГИС</span></a>
            <a href="#" class="yandex-nav" id="yandexNavButton"> <span><img src="https://img.icons8.com/?size=100&id=w6fsZzops6O1&format=png&color=000000" alt="Yandex Nav">Навигатор</span>
                <input type="text" placeholder="Конечный пункт (Enter-Yandex / Ctrl+Enter-Google)" style="display: none;">
            </a>
        </div>
        <div class="buttons" id="f9Buttons" style="display: none;">
            <a href="#" class="f9-button ai-search" id="aiSearchButton"><i class="fab fa-android"></i> <span></span></a>
            <a href="#" class="f9-button pharmacies" id="pharmaciesButton"><i class="fas fa-pills"></i> <span></span></a>
            <a href="#" class="f9-button audiobooks" id="audiobooksButton"><i class="fas fa-headphones"></i> <span></span></a>
            <a href="#" class="f9-button quotes" id="quotesButton"><i class="fas fa-chart-line"></i> <span></span></a>
            <a href="#" class="f9-button marketplaces" id="marketplacesButton"><i class="fas fa-shopping-cart"></i> <span></span></a>
            <a href="#" class="f9-button organizations" id="organizationsButton"><i class="fas fa-building"></i> <span></span></a>
            <a href="#" class="f9-button legal-systems" id="legalSystemsButton"><i class="fas fa-balance-scale"></i> <span></span></a>
            <a href="#" class="f9-button site-search" id="siteSearchButton">
                <span><i class="fas fa-search"></i></span>
                <input type="text" placeholder="Искать на сайте" style="display: none;">
            </a>
        </div>
    </div>
    <div class="checkbox-container">
        <label class="switch">
            <input type="checkbox" id="sevenDigitsCheckbox">
            <span class="slider round"></span>
        </label>
        <label for="sevenDigitsCheckbox">7 знаков в квартале</label>
    </div>
    <!-- Обновленное меню Росреестр -->
    <div class="rosreestr-dropdown" id="rosreestrDropdown">
        <a href="https://lk.rosreestr.ru/request-access-egrn/property-search" target="_blank"><i class="fas fa-search"></i>ЕГРН</a>
        <div class="separator"></div>
        <a href="https://lk.rosreestr.ru/request-access-egrn/my-claims" target="_blank"><i class="fas fa-clipboard-list"></i>Заявки</a>
        <div class="separator"></div>
        <a href="https://lk.rosreestr.ru/my-plans" target="_blank"><i class="fas fa-file-alt"></i>Проверка</a>
        <div class="separator"></div>
        <a href="https://lk.rosreestr.ru/eservices/check-request" target="_blank"><i class="fas fa-info-circle"></i>Статус</a>
        <div class="separator"></div>
        <a href="https://www.gosuslugi.ru/600447/1/form" target="_blank"><i class="fas fa-archive"></i>Материалы</a>
        <div class="separator"></div>
        <a href="https://lk.gosuslugi.ru/orders?" target="_blank"><i class="fas fa-file-signature"></i>Заявления</a>
        <div class="separator"></div>
        <a href='rt' target="_blank"><i class="fas fa-map"></i>Районы</a>
        <div class="separator"></div>
        <a href="https://fgistp.economy.gov.ru/" target="_blank"><i class="fas fa-street-view"></i>ФГИС ТП</a>
        <div class="separator"></div>
        <a href="https://fias.nalog.ru/" target="_blank"><i class="fas fa-location-dot"></i>ФИАС</a>
    </div>
    <div class="social-icons">
        <a href="#" class="rosreestr" id="rosreestrIcon">
            <img src="https://i.ibb.co/Xz0MQPH/r.png" alt="Росреестр">
        </a>
        <a href="https://web.whatsapp.com/" target="_blank" class="whatsapp"><i class="fab fa-whatsapp"></i></a>
        <a href="https://web.telegram.org/" target="_blank" class="telegram"><i class="fab fa-telegram-plane"></i></a>
    </div>
    <div class="left-menu">
        <a href="#" id="fileIcon">
            <img src="https://img.icons8.com/?size=100&id=15359&format=png&color=000000" alt="desktop" />
        </a>
        <a href="#" id="imageIcon">
            <img src="https://img.icons8.com/?size=100&id=13071&format=png&color=000000" alt="image" />
        </a>
        <a href="#" id="schemaIcon">
            <img src="https://img.icons8.com/?size=100&id=ouLclwMI8a2V&format=png&color=000000" alt="mind map" />
        </a>
        <a href="#" id="textIcon">
            <img src="https://img.icons8.com/?size=100&id=Cbco1kykBSMT&format=png&color=000000" alt="text" />
        </a>
    </div>
    <div class="left-dropdown" id="imageDropdown">
        <a href='pdf' target="_blank"><i class="fas fa-file-pdf"></i>PDF</a>
        <div class="separator"></div>
        <a href="Изображения.html" target="_blank"><i class="fas fa-file-image"></i>Изображения</a>
        <div class="separator"></div>
        <a href="Наложение.html" target="_blank"><i class="fas fa-layer-group"></i>Наложение</a>
        <div class="separator"></div>
        <a href="Эскизы.html" target="_blank"><i class="fas fa-images"></i>Эскизы</a>
    </div>
    <div class="left-dropdown" id="textDropdown">
        <a href="Записная_книжка.html" target="_blank"><i class="fas fa-book-open"></i>Записная книжка</a>
        <div class="separator"></div>
        <a href="Кадастровый_номер.html" target="_blank"><i class="fas fa-hashtag"></i>Кадастровый номер</a>
        <div class="separator"></div>
        <a href="Поиск_текста.html" target="_blank"><i class="fas fa-search"></i>Поиск</a>
        <div class="separator"></div>
        <a href="Проверка.html" target="_blank"><i class="fas fa-spell-check"></i>Проверка</a>
        <div class="separator"></div>
        <a href='строки.html' target="_blank"><i class="fas fa-text-width"></i>Строки</a>
         <div class="separator"></div>
         <a href='html' target='_blank'><i class="fa-solid fa-code"></i>HTML</a>
        <div class="separator"></div>
        <a href='http' target='_blank'><i class="fas fa-link"></i>HTTP</a>
        <div class="separator"></div>
        <a href='xml' target='_blank'><i class="fab fa-readme"></i>Просмотр</a>
    </div>
    <div class="left-dropdown" id="schemaDropdown">
        <a href="~Схема_по_координатам.html" target="_blank"><i class="fas fa-map-pin"></i>Схема</a>
        <div class="separator"></div>
        <a href="~Схема_расположения на КПТ.html" target="_blank"><i class="fas fa-map-marked-alt"></i>Схема на КПТ</a>
        <div class="separator"></div>
        <a href="~Схема_смежного_земельного_участка.html" target="_blank"><i class="fas fa-border-all"></i>Смежный участок</a>
        <div class="separator"></div>
        <a href="Выписки.html" target="_blank"><i class="fa-solid fa-file-zipper"></i>ZIP Выписки</a>
        <div class="separator"></div>
        <a href="XML_Выписка_ЗУ.html" target="_blank"><i class="fas fa-file-code"></i>Выписка ЗУ</a>
        <div class="separator"></div>
        <a href="XML_Выписка_ОКС.html" target="_blank"><i class="fas fa-file-code"></i>Выписка ОКС</a>
         <div class="separator"></div>
         <a href='xml_zu' target='_blank'><i class="fas fa-file-alt"></i>КПТ ЗУ</a>
        <div class="separator"></div>
        <a href='xml_oks' target='_blank'><i class="fas fa-file-alt"></i>КПТ ОКС</a>
        <div class="separator"></div>
        <a href='xml_ter' target='_blank'><i class="fas fa-file-alt"></i>Территории</a>
    </div>
    <div class="left-dropdown" id="fileDropdown">
        <a href="Диаграмма.html" target="_blank"><i class="fas fa-pie-chart"></i>Диаграмма</a>
           <div class="separator"></div>
            <a href='ipcam' target='_blank'><i class="fas fa-camera"></i>Камеры</a>
        <div class="separator"></div>
        <a href="поиск_файлов.html" target="_blank"><i class="fas fa-binoculars"></i>Поиск файлов</a>
            <div class="separator"></div>
            <a href='words' target='_blank'><i class="fas fa-language"></i>Слова</a>
          <div class="separator"></div>
            <a href='тестирование.html' target="_blank"><i class="fas fa-graduation-cap"></i>Тестирование</a>
    </div>
    <div id="f9Corner"></div>
    <div id="f9CornerRight">
        <img src="https://i.ibb.co/s929g4Y/world-earth-16758.png" alt="Normal Mode" class="normal-mode-icon">
        <img src="https://i.ibb.co/k4Hxm48/4sun-98647-2.png" alt="F9 Mode" class="f9-mode-icon" style="display: none;">
    </div>
    <div id="result"></div>
    <script>
                 const canvas = document.getElementById('snowCanvas');
        const ctx = canvas.getContext('2d');
        let snowflakes = [];
        const numSnowflakes = 1; // количество снежинок
        let lastMouseMovement = Date.now();
        const mouseActiveTime = 1000; // время активности мыши в мс
        const baseSpeed = 1.5; // базовая скорость падения
        const speedMultiplier = 2; // множитель скорости
        const slowdownFactor = 2; // делитель для медленного падения
        const baseOpacity = 0.8; // базовая прозрачность
        const fadeFactor = 2; // делитель для затухания
        const minOpacity = 0.1; // минимальная прозрачность
        const swayMagnitude = 0.8; //величина покачивания
        
            let targetSnowflakes = numSnowflakes; // Целевое количество снежинок
    const minSnowflakes = 0; // Минимальное количество снежинок
    const maxSnowflakes = 2000; // Максимальное количество снежинок
    const snowIncreaseSpeed = 10; // Скорость увеличения снежинок
    let lastSnowflakeUpdate = Date.now();
        
            let mouseX = 0;
    let mouseY = 0;
    
        function initCanvas() {
            canvas.width = window.innerWidth;
            canvas.height = window.innerHeight;
        }
        function createSnowflake() {
            return {
                x: Math.random() * canvas.width,
                y: Math.random() * canvas.height,
                size: Math.random() * 3 + 1,
                // размер снежинки от 1 до 4px
                speedY: baseSpeed,
                speedX: Math.random() * 0.2 - 0.1,
                // небольшой случайный ветер
                opacity: baseOpacity,
            };
        }
        function drawSnowflake(snowflake) {
            ctx.beginPath();
            ctx.arc(snowflake.x, snowflake.y, snowflake.size, 0, 2 * Math.PI);
            ctx.fillStyle = `rgba(255, 255, 255, ${snowflake.opacity})`;
            ctx.fill();
        }
      
      function updateSnowflakes() {
            const now = Date.now();
            const mouseIsMoving = now - lastMouseMovement < mouseActiveTime;
          
            // if (mouseIsMoving) {
            //     targetSnowflakes = Math.min(maxSnowflakes, targetSnowflakes + snowIncreaseSpeed * (now-lastSnowflakeUpdate) / 1000);
            // } else {
            //      targetSnowflakes = Math.max(minSnowflakes, targetSnowflakes - snowIncreaseSpeed * (now-lastSnowflakeUpdate) / 1000) ;

            // }

            const scrollDelta = getScrollDelta();
            targetSnowflakes = Math.max(minSnowflakes, Math.min(maxSnowflakes, targetSnowflakes - scrollDelta));
           
            
            
            lastSnowflakeUpdate = now;
             //пересоздание снежинок, если их количество изменилось
            if (snowflakes.length !== Math.round(targetSnowflakes)) {
               
                if (snowflakes.length < Math.round(targetSnowflakes)) {
                    while (snowflakes.length < Math.round(targetSnowflakes)) {
                           snowflakes.push(createSnowflake());
                    }
                } else if (snowflakes.length > Math.round(targetSnowflakes)){
                    while (snowflakes.length > Math.round(targetSnowflakes)) {
                        snowflakes.pop();
                  }
                }

            }

            snowflakes.forEach(snowflake => {
                if (mouseIsMoving) {
                   snowflake.speedY = baseSpeed * speedMultiplier;
                  snowflake.opacity = baseOpacity;

                      // Расчет направления отлета
                    const dx = snowflake.x - mouseX;
                    const dy = snowflake.y - mouseY;
                    const distance = Math.sqrt(dx * dx + dy * dy);
                    // Если снежинка близко к мыши, то отталкиваем
                    if(distance < 80){
                        const pushForce = 1.5; // Сила отталкивания
                            snowflake.speedX += (dx / distance) * pushForce;
                            snowflake.speedY += (dy / distance) * pushForce;
                       }
                    } else {
                    snowflake.speedY = baseSpeed;
                    snowflake.opacity = baseOpacity;
                    snowflake.x += Math.sin(now / 200) * swayMagnitude;

                }
              
                snowflake.y += snowflake.speedY;
               snowflake.x += snowflake.speedX;
                 if (!mouseIsMoving && snowflake.opacity > minOpacity) {
                       snowflake.opacity -= 0.01;
                    }
                 if (snowflake.y > canvas.height || snowflake.opacity <= minOpacity) {
                     snowflake.y = 0;
                      snowflake.x = Math.random() * canvas.width;
                        snowflake.opacity = baseOpacity;
                 }
               // замедление скорости отлета
               snowflake.speedX *= 0.98;
               snowflake.speedY *= 0.98;
           });
       }
       
       
        function animateSnow() {
            ctx.clearRect(0, 0, canvas.width, canvas.height);
            updateSnowflakes();
            snowflakes.forEach(drawSnowflake);
            requestAnimationFrame(animateSnow);
        }
        function setupSnow() {
            initCanvas();
            for (let i = 0; i < numSnowflakes; i++) {
                snowflakes.push(createSnowflake());
            }
            animateSnow();
            window.addEventListener('resize', initCanvas);
            document.addEventListener('mousemove', () => {
                lastMouseMovement = Date.now();
            });
        }

    let lastScrollTime = Date.now();
    let scrollDelta = 0;

    function getScrollDelta() {
    const now = Date.now();
    const timeDiff = now - lastScrollTime;
    let change = scrollDelta;
    scrollDelta = 0;
    lastScrollTime = now;
        return  change * 10; // Множитель для регулировки скорости
    }

    document.addEventListener('wheel', (event) => {
            scrollDelta += event.deltaY * 0.1;
        
    });
       
       
    let isF9Mode = false;
    const originalPlaceholder = document.getElementById('searchText').placeholder;
    const numberButtons = document.getElementById('numberButtons');
    const addressButtons = document.getElementById('addressButtons');
    const f9Buttons = document.getElementById('f9Buttons');
    const searchInput = document.getElementById('searchText');
    const title = document.getElementById('searchTitle');
    const container = document.getElementById('draggableContainer');
    let isDraggable = true;
    let isDragging = false;
    let moveAtHandler;
    function formatCadastralNumber(text) {
        text = text.replace(/[^\d]/g, '');
        const sevenDigitsEnabled = document.getElementById('sevenDigitsCheckbox').checked;
        const thirdBlockLength = sevenDigitsEnabled ? 7 : 6;
        let formattedText = '';
        if (text.length > 0) formattedText += text.slice(0, 2);
        if (text.length > 2) formattedText += ':' + text.slice(2, 4);
        if (text.length > 4) {
            const remainingDigits = text.slice(4);
            if (remainingDigits.length <= thirdBlockLength) {
                formattedText += ':' + remainingDigits;
            } else {
                formattedText += ':' + remainingDigits.slice(0, thirdBlockLength) + ':' + remainingDigits.slice(thirdBlockLength);
            }
        }
        return formattedText;
    }
    function addPulseRotateEffect() {
        const f9CornerRight = document.getElementById('f9CornerRight');
        f9CornerRight.classList.add('pulse-rotate');
        setTimeout(() => {
            f9CornerRight.classList.remove('pulse-rotate');
        }, 300);
    }
    function changeBackgroundImage() {
        const backgroundImages = [
            'https://images.unsplash.com/photo-1539667547529-84c607280d20?q=80&w=2061&auto=format&fit=crop&ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D',
            'https://images.unsplash.com/photo-1470329508532-be27fda94658?q=80&w=2071&auto=format&fit=crop&ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D',
            'https://images.unsplash.com/photo-1542259009477-d625272157b7?q=80&w=2069&auto=format&fit=crop&ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D',
            'https://images.unsplash.com/photo-1464822759023-fed622ff2c3b?q=80&w=2070&auto=format&fit=crop&ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D',
            'https://images.unsplash.com/photo-1495107334309-fcf20504a5ab?q=80&w=2070&auto=format&fit=crop&ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D',
            'https://images.unsplash.com/photo-1440558929809-1412944a6225?q=80&w=1929&auto=format&fit=crop&ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D',
            'https://images.unsplash.com/photo-1509088960169-ecb53eda6ed8?q=80&w=2012&auto=format&fit=crop&ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D',
            'https://images.unsplash.com/photo-1444723121867-7a241cacace9?q=80&w=2070&auto=format&fit=crop&ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D',
        ];
        const randomIndex = Math.floor(Math.random() * backgroundImages.length);
        document.body.style.background = `url("${backgroundImages[randomIndex]}") no-repeat center center fixed`;
        document.body.style.backgroundSize = 'cover';
    }
    function showButtons(buttonsContainer) {
        buttonsContainer.style.display = 'flex';
    }
    function hideButtons(buttonsContainer) {
        buttonsContainer.style.display = 'none';
    }
    function replaceEnglishWithRussian(text) {
        const map = {
            'q': 'й',
            'w': 'ц',
            'e': 'у',
            'r': 'к',
            't': 'е',
            'y': 'н',
            'u': 'г',
            'i': 'ш',
            'o': 'щ',
            'p': 'з',
            '[': 'х',
            ']': 'ъ',
            'a': 'ф',
            's': 'ы',
            'd': 'в',
            'f': 'а',
            'g': 'п',
            'h': 'р',
            'j': 'о',
            'k': 'л',
            'l': 'д',
            ';': 'ж',
            '\'': 'э',
            'z': 'я',
            'x': 'ч',
            'c': 'с',
            'v': 'м',
            'b': 'и',
            'n': 'т',
            'm': 'ь',
            ',': 'б',
            '.': 'ю',
            '/': '.',
            'Q': 'Й',
            'W': 'Ц',
            'E': 'У',
            'R': 'К',
            'T': 'Е',
            'Y': 'Н',
            'U': 'Г',
            'I': 'Ш',
            'O': 'Щ',
            'P': 'З',
            '{': 'Х',
            '}': 'Ъ',
            'A': 'Ф',
            'S': 'Ы',
            'D': 'В',
            'F': 'А',
            'G': 'П',
            'H': 'Р',
            'J': 'О',
            'K': 'Л',
            'L': 'Д',
            ':': 'Ж',
            '"': 'Э',
            'Z': 'Я',
            'X': 'Ч',
            'C': 'С',
            'V': 'М',
            'B': 'И',
            'N': 'Т',
            'M': 'Ь',
            '<': 'Б',
            '>': 'Ю',
            '?': ','
        };
        return text.split('').map(char => map[char] || char).join('');
    }
    function isValidCadastralNumber(text) {
        const pattern = /^\d{2}:\d{2}(:\d{6,7}(:\d+)?)?$/;
        return pattern.test(text);
    }
    function openSite(baseUrl, isAddress, isSpecialKadastrMap = false, isPkkOks = false) {
        const text = document.getElementById('searchText').value;
        if (isAddress) {
            if (/[А-Яа-я]/.test(text.charAt(0))) {
                const url = isSpecialKadastrMap ? `${baseUrl}${encodeURIComponent(text)}&ycode=994&g-recaptcha-response=` : `${baseUrl}${encodeURIComponent(text)}`;
                window.open(url, '_blank');
            }
        } else {
            if (isValidCadastralNumber(text)) {
                if (isSpecialKadastrMap) {
                    const formattedText = text.replace(/:/g, '-');
                    window.open(`${baseUrl}${formattedText}/`, '_blank');
                } else if (isPkkOks) {
                    // удалено
                } else {
                    const isKadastrovyKvartal = (text.match(/:/g) || []).length === 2;
                    if (baseUrl === 'https://pkk.rosreestr.ru/#/search/?text=') {
                        let url;
                        if (isKadastrovyKvartal) {
                            url = `${baseUrl}${text}&type=2`;
                        } else {
                            let encodedText = text.replace(/:/g, '%3A');
                            encodedText = encodedText.replace(/%3A0/g, '%3A');
                            url = `${baseUrl}${text}&opened=${encodedText}`;
                        }
                        window.open(url, '_blank');
                    } else {
                        window.open(`${baseUrl}${text}`, '_blank');
                    }
                }
            }
        }
    }
    function snapToLeft(container) {
        container.style.left = '0px';
        container.style.top = '0px';
        container.style.height = '100vh';
        container.style.display = 'flex';
        container.style.flexDirection = 'column';
        container.style.justifyContent = 'center';
        container.style.transition = 'all 0.3s ease-in-out';
        saveContainerState('snaptoleft');
    }
    function resetContainer() {
        container.style.left = '';
        container.style.top = '';
        container.style.height = '';
        container.style.display = '';
        container.style.flexDirection = '';
        container.style.justifyContent = 'center';
        container.style.transition = 'all 0.3s ease-in-out';
        saveContainerState('center');
    }
    function saveContainerState(state) {
        localStorage.setItem('containerState', state);
    }
    function loadContainerState() {
        return localStorage.getItem('containerState') || 'center';
    }
    function initDraggable() {
        const f9Corner = document.getElementById('f9Corner');
        f9Corner.onmousedown = function(event) {
            event.preventDefault();
            event.stopPropagation();
            const containerState = loadContainerState();
            if (containerState === 'snaptoleft') {
                resetContainer();
            } else {
                snapToLeft(container);
            }
        };
        container.onmousedown = function(event) {
            if (!isDraggable || event.target.tagName === 'A' || event.target.tagName === 'INPUT' || event.target === f9Corner) {
                return;
            }
            if (event.button === 1) {
                event.preventDefault();
                toggleF9Mode();
                return;
            }
            isDragging = true;
            let shiftX = event.clientX - container.getBoundingClientRect().left;
            let shiftY = event.clientY - container.getBoundingClientRect().top;
            container.style.position = 'fixed';
            container.style.zIndex = 1000;
            document.body.append(container);
            moveAtHandler = function(pageX, pageY) {
                container.style.left = pageX - shiftX + 'px';
                container.style.top = pageY - shiftY + 'px';
            };
            document.addEventListener('mousemove', moveAtHandler);
            container.onmouseup = function() {
                document.removeEventListener('mousemove', moveAtHandler);
                container.onmouseup = null;
                isDragging = false;
                saveContainerState('center');
            };
        };
        container.ondragstart = function() {
            return false;
        };
    }
    function saveCheckboxState() {
        localStorage.setItem('sevenDigitsEnabled', document.getElementById('sevenDigitsCheckbox').checked);
    }
    function loadCheckboxState() {
        const sevenDigitsEnabled = localStorage.getItem('sevenDigitsEnabled');
        if (sevenDigitsEnabled !== null) {
            document.getElementById('sevenDigitsCheckbox').checked = JSON.parse(sevenDigitsEnabled);
        }
    }
    function toggleMobileVersion() {
        const isMobile = window.matchMedia("(max-width: 768px), (orientation: portrait)").matches;
        document.body.classList.toggle('mobile-version', isMobile);
    }
    function showContainer() {
        const container = document.getElementById('draggableContainer');
        container.classList.add('show');
    }
    function saveF9Mode() {
        localStorage.setItem('isF9Mode', JSON.stringify(isF9Mode));
    }
    function updateF9Icon() {
        const normalModeIcon = document.querySelector('#f9CornerRight .normal-mode-icon');
        const f9ModeIcon = document.querySelector('#f9CornerRight .f9-mode-icon');
        if (isF9Mode) {
            normalModeIcon.style.display = 'none';
            f9ModeIcon.style.display = 'block';
            f9ModeIcon.style.opacity = '0.8';
            normalModeIcon.style.opacity = '0.2';
        } else {
            normalModeIcon.style.display = 'block';
            f9ModeIcon.style.display = 'none';
            normalModeIcon.style.opacity = '0.8';
            f9ModeIcon.style.opacity = '0.2';
        }
    }
    function toggleF9Mode() {
        isF9Mode = !isF9Mode;
        if (isF9Mode) {
            enterF9Mode();
        } else {
            exitF9Mode();
        }
        updateFavicon();
        saveF9Mode();
        addPulseRotateEffect();
        updateF9Icon();
        console.log('F9 Mode:', isF9Mode);
    }
    function enterF9Mode() {
        numberButtons.style.display = 'none';
        addressButtons.style.display = 'none';
        f9Buttons.style.display = 'flex';
        searchInput.placeholder = '';
        searchInput.value = '';
        title.textContent = '';
        title.classList.remove('text-address', 'text-cadastral');
        searchInput.removeEventListener('input', normalModeInputHandler);
        searchInput.addEventListener('input', f9ModeInputHandler);
        document.title = 'Поиск';
        document.body.classList.add('f9-mode');
    }
    function exitF9Mode() {
        f9Buttons.style.display = 'none';
        searchInput.placeholder = originalPlaceholder;
        searchInput.value = '';
        numberButtons.style.display = 'flex';
        addressButtons.style.display = 'none';
        title.classList.add('text-cadastral');
        searchInput.removeEventListener('input', f9ModeInputHandler);
        searchInput.addEventListener('input', normalModeInputHandler);
        document.title = 'Карта';
        document.body.classList.remove('f9-mode');
    }
    function f9ModeInputHandler() {}
    let addressPKKButtonListenerAdded = false;
    let addressKadastrmapButtonListenerAdded = false;
    function normalModeInputHandler() {
        if (isF9Mode) return;
        const input = searchInput;
        input.value = replaceEnglishWithRussian(input.value);
        const firstChar = input.value.trim().charAt(0);
        if (/[А-Яа-я]/.test(firstChar)) {
            numberButtons.style.display = 'none';
            addressButtons.style.display = 'flex';
            title.textContent = '';
            title.classList.add('text-address');
            title.classList.remove('text-cadastral');
            const addressPKKButton = document.getElementById('addressPKKButton');
            const addressKadastrmapButton = document.getElementById('addressKadastrmapButton');
            if (addressPKKButton && !addressPKKButtonListenerAdded) {
                addressPKKButton.addEventListener('click', function() {
                    const text = document.getElementById('searchText').value;
                    navigator.clipboard.writeText(text);
                    window.open('https://nspd.gov.ru/map', '_blank');
                });
                addressPKKButtonListenerAdded = true;
            }
            if (addressKadastrmapButton && !addressKadastrmapButtonListenerAdded) {
                addressKadastrmapButton.addEventListener('click', function() {
                    openSite('https://work.kadastrmap.info/reestr/?query=', true, true);
                });
                addressKadastrmapButtonListenerAdded = true;
            }
        } else {
            input.value = formatCadastralNumber(input.value.replace(/[^\d]/g, ''));
            addressButtons.style.display = 'none';
            numberButtons.style.display = 'flex';
            title.textContent = '';
            title.classList.add('text-cadastral');
            title.classList.remove('text-address');
            addressPKKButtonListenerAdded = false;
            addressKadastrmapButtonListenerAdded = false;
        }
        saveCheckboxState();
    }
    document.addEventListener('keydown', function(e) {
        if (e.key === 'F9') {
            e.preventDefault();
            toggleF9Mode();
        }
    });;
    document.addEventListener('DOMContentLoaded', function() {
        const f9CornerRight = document.getElementById('f9CornerRight');
        f9CornerRight.addEventListener('click', function(e) {
            e.preventDefault();
            toggleF9Mode();
        });
        f9CornerRight.addEventListener('mouseenter', function() {
            this.querySelector('img:not([style*="display: none"])').style.opacity = '1';
        });
        f9CornerRight.addEventListener('mouseleave', function() {
            if (!isF9Mode) {
                this.querySelector('.normal-mode-icon').style.opacity = '0.2';
            } else {
                this.querySelector('.f9-mode-icon').style.opacity = '0.2';
            }
        });
        const icons = ['fileIcon', 'imageIcon', 'schemaIcon', 'textIcon'];
        const dropdowns = ['fileDropdown', 'imageDropdown', 'schemaDropdown', 'textDropdown'];
        let activeDropdown = null;
        icons.forEach((iconId, index) => {
            const icon = document.getElementById(iconId);
            const dropdown = document.getElementById(dropdowns[index]);
            icon.addEventListener('click', function(e) {
                e.preventDefault();
                e.stopPropagation();
                if (activeDropdown && activeDropdown !== dropdown) {
                    activeDropdown.classList.remove('show');
                }
                dropdown.classList.toggle('show');
                activeDropdown = dropdown.classList.contains('show') ? dropdown : null;
            });
        });
        document.addEventListener('click', function(e) {
            if (activeDropdown && !e.target.closest('.left-menu') && !e.target.closest('.left-dropdown')) {
                activeDropdown.classList.remove('show');
                activeDropdown = null;
            }
        });
        const rosreestrIcon = document.getElementById('rosreestrIcon');
        const rosreestrDropdown = document.getElementById('rosreestrDropdown');
        let isMenuVisible = false;
        rosreestrIcon.addEventListener('click', function(e) {
            e.preventDefault();
            isMenuVisible = !isMenuVisible;
            rosreestrDropdown.classList.toggle('show', isMenuVisible);
        });
        document.addEventListener('click', function(e) {
            if (isMenuVisible && !rosreestrIcon.contains(e.target) && !rosreestrDropdown.contains(e.target)) {
                isMenuVisible = false;
                rosreestrDropdown.classList.remove('show');
            }
        });
    });
    window.onload = function() {
        changeBackgroundImage();
        toggleMobileVersion();
        loadCheckboxState();
        loadF9Mode();
        let snowEnabled = true; // Или false для отключения по умолчанию
if(snowEnabled) {
    setupSnow();
}
        const containerState = loadContainerState();
        if (containerState === 'snaptoleft') {
            snapToLeft(container);
        } else {
            resetContainer();
        }
        setTimeout(showContainer, 1);
        const socialIcons = document.querySelector('.social-icons');
        const leftMenu = document.querySelector('.left-menu');
        function loadF9Mode() {
            const savedMode = localStorage.getItem('isF9Mode');
            if (savedMode !== null) {
                isF9Mode = JSON.parse(savedMode);
                if (isF9Mode) {
                    enterF9Mode();
                } else {
                    exitF9Mode();
                }
            } else {
                isF9Mode = false;
                document.title = 'Карта';
            }
            updateF9Icon();
            updateFavicon();
        }
        let iconsVisible = localStorage.getItem('iconsVisible') === 'true';
        updateIconsVisibility();
        function showIcons() {
            iconsVisible = true;
            updateIconsVisibility();
            saveIconsState();
        }
        function hideIcons() {
            iconsVisible = false;
            updateIconsVisibility();
            saveIconsState();
        }
        function toggleIcons() {
            iconsVisible = !iconsVisible;
            updateIconsVisibility();
            saveIconsState();
            if (iconsVisible) {
                socialIcons.style.animation = 'none';
                leftMenu.style.animation = 'none';
                void socialIcons.offsetWidth;
                void leftMenu.offsetWidth;
                socialIcons.style.animation = '';
                leftMenu.style.animation = '';
            }
        }
        function updateIconsVisibility() {
            if (iconsVisible) {
                socialIcons.classList.add('visible');
                leftMenu.classList.add('visible');
                socialIcons.style.pointerEvents = 'auto';
                leftMenu.style.pointerEvents = 'auto';
                socialIcons.querySelectorAll('a').forEach((icon, index) => {
                    icon.style.animationDelay = `${index * 0.1}s`;
                });
                leftMenu.querySelectorAll('a').forEach((icon, index) => {
                    icon.style.animationDelay = `${index * 0.1}s`;
                });
            } else {
                socialIcons.classList.remove('visible');
                leftMenu.classList.remove('visible');
                socialIcons.style.pointerEvents = 'none';
                leftMenu.style.pointerEvents = 'none';
                socialIcons.querySelectorAll('a').forEach(icon => {
                    icon.style.animationDelay = '';
                });
                leftMenu.querySelectorAll('a').forEach(icon => {
                    icon.style.animationDelay = '';
                });
            }
        }
        function saveIconsState() {
            localStorage.setItem('iconsVisible', iconsVisible);
        }
        document.addEventListener('dblclick', function(event) {
            if (!socialIcons.contains(event.target) && !leftMenu.contains(event.target)) {
                toggleIcons();
            }
        });
        searchInput.addEventListener('input', function() {
            if (isF9Mode) {
                f9ModeInputHandler();
            } else {
                normalModeInputHandler();
            }
        });
        document.getElementById('sevenDigitsCheckbox').addEventListener('change', function() {
            saveCheckboxState();
            const input = document.getElementById('searchText');
            input.value = formatCadastralNumber(input.value.replace(/[^\d]/g, ''));
        });
        searchInput.addEventListener('input', normalModeInputHandler);
        window.addEventListener('resize', toggleMobileVersion);
        document.getElementById('yandexNavButton').addEventListener('click', function(e) {
            e.preventDefault();
            this.classList.add('active');
            const input = this.querySelector('input');
            input.style.display = 'block';
            input.focus();
        });
        document.querySelector('#yandexNavButton input').addEventListener('keydown', function(e) {
            if (e.key === 'Enter') {
                e.preventDefault();
                const startPoint = document.getElementById('searchText').value;
                const endPoint = this.value;
                let url;
                if (e.ctrlKey) {
                    url = `https://www.google.com/maps/dir/?api=1&origin=${encodeURIComponent(startPoint)}&destination=${encodeURIComponent(endPoint)}`;
                } else {
                    url = `https://yandex.ru/maps/?rtext=${encodeURIComponent(startPoint)}~${encodeURIComponent(endPoint)}&rtt=auto`;
                }
                window.open(url, '_blank');
                this.value = '';
                this.style.display = 'none';
                this.parentElement.classList.remove('active');
            }
        });
        document.querySelector('#yandexNavButton input').addEventListener('input', function() {
            this.value = replaceEnglishWithRussian(this.value);
        });
        document.addEventListener('click', function(e) {
            const yandexNavButton = document.getElementById('yandexNavButton');
            if (!yandexNavButton.contains(e.target)) {
                yandexNavButton.classList.remove('active');
                yandexNavButton.querySelector('input').style.display = 'none';
            }
        });
        initDraggable();
        document.getElementById('pkkButton').addEventListener('click', function() {
            const text = document.getElementById('searchText').value;
            navigator.clipboard.writeText(text);
            window.open('https://nspd.gov.ru/map', '_blank');
        });;
        document.getElementById('roscadastresButton').addEventListener('click', function() {
            const text = document.getElementById('searchText').value;
            navigator.clipboard.writeText(text);
            window.open('https://b.roscadastres.com/map', '_blank');
        });
        document.getElementById('rosreestrButton').addEventListener('click', function() {
            openSite('https://rosreestr-doc.ru/кадастровая_карта#cad=', false);
        });
        document.getElementById('egrpButton').addEventListener('click', function() {
            openSite('https://egrp365.org/map/?kadnum=', false);
        });
        document.getElementById('kadastrmapButton').addEventListener('click', function() {
            openSite('https://work.kadastrmap.info/reestr/', false, true);
        });
        document.getElementById('yandexButton').addEventListener('click', function() {
            openSite('https://yandex.ru/maps/?text=', true);
        });
        document.getElementById('googleButton').addEventListener('click', function() {
            openSite('https://www.google.com/maps/search/', true);
        });
        document.getElementById('earthButton').addEventListener('click', function() {
            openSite('https://earth.google.com/web/search/', true);
        });
        document.getElementById('bingButton').addEventListener('click', function() {
            openSite('https://www.bing.com/maps?q=', true);
        });
        document.getElementById('gisButton').addEventListener('click', function() {
            openSite('https://2gis.ru/search/', true);
        });
        document.getElementById('aiSearchButton').addEventListener('click', function(e) {
            e.preventDefault();
            const searchText = document.getElementById('searchText').value;
            const searchQuery = searchText.replace(/ /g, '+');
            const urls = [
                "https://ya.ru/n?from=dbro_ntp_box&clid=2261451&banerid=0600000000%3ASW-5c6316afa997&win=628&text=" + searchQuery,
                "https://www.phind.com/search?q=" + encodeURIComponent(searchText),
                "https://www.perplexity.ai/search?q=" + encodeURIComponent(searchText)
            ];
            openMultipleUrls(urls);
        });
        document.getElementById('pharmaciesButton').addEventListener('click', function(e) {
            e.preventDefault();
            const searchText = document.getElementById('searchText').value;
            const urls = [
                "https://farmlend.ru/search?keyword=" + encodeURIComponent(searchText),
                "https://apteka.ru/search/?q=" + encodeURIComponent(searchText),
                "https://vitaexpress.ru/search/?q=" + encodeURIComponent(searchText)
            ];
            openMultipleUrls(urls);
        });
        document.getElementById('audiobooksButton').addEventListener('click', function(e) {
            e.preventDefault();
            const searchText = document.getElementById('searchText').value;
            const urls = [
                "https://akniga.org/search/books/?q=" + encodeURIComponent(searchText),
                "https://knigivuhe.com/index.php?do=search&subaction=search&search_start=0&full_search=0&story=" + encodeURIComponent(searchText),
                "https://knigavuhe.org/search/?q=" + encodeURIComponent(searchText)
            ];
            openMultipleUrls(urls);
        });
        document.getElementById('quotesButton').addEventListener('click', function(e) {
            e.preventDefault();
            const searchText = document.getElementById('searchText').value.trim();
            let urls;
            if (searchText === "") {
                urls = [
                    "https://finviz.com/forex.ashx",
                    "https://finviz.com/crypto.ashx",
                    "https://finviz.com/map.ashx?t=sec_all"
                ];
            } else {
                urls = ["https://ru.investing.com/search/?q=" + encodeURIComponent(searchText)];
            }
            openMultipleUrls(urls);
        });
        document.getElementById('marketplacesButton').addEventListener('click', function(e) {
            e.preventDefault();
            const searchText = document.getElementById('searchText').value;
            const urls = [
                "https://www.ozon.ru/search/?text=" + encodeURIComponent(searchText),
                "https://megamarket.ru/catalog/?q=" + encodeURIComponent(searchText),
                "https://www.wildberries.ru/catalog/0/search.aspx?search=" + encodeURIComponent(searchText),
                "https://market.yandex.ru/search?text=" + encodeURIComponent(searchText),
                "https://mm.ru/search?query=" + encodeURIComponent(searchText),
                "https://aliexpress.ru/wholesale?SearchText=" + encodeURIComponent(searchText),
                "https://www.pepper.ru/search_result?keyword=" + encodeURIComponent(searchText) + "&search_list=deals&ref=most_searched"
            ];
            openMultipleUrls(urls);
        });
        document.getElementById('siteSearchButton').addEventListener('click', function(e) {
            e.preventDefault();
            this.classList.add('active');
            const input = this.querySelector('input');
            input.style.display = 'block';
            input.focus();
        });
        document.querySelector('#siteSearchButton input').addEventListener('keydown', function(e) {
            if (e.key === 'Enter') {
                e.preventDefault();
                const searchText = document.getElementById('searchText').value;
                const siteUrl = this.value.trim();
                let yandexQuery,
                    googleQuery;
                if (siteUrl)
 {
                    yandexQuery = `site:${siteUrl} ${searchText}`;
                    googleQuery = `site:${siteUrl} ${searchText}`;
                } else {
                    yandexQuery = searchText;
                    googleQuery = searchText;
                }
                window.open(`https://yandex.ru/search/?text=${encodeURIComponent(yandexQuery)}`, '_blank');
                window.open(`https://www.google.com/search?q=${encodeURIComponent(googleQuery)}`, '_blank');
                this.value = '';
                this.style.display = 'none';
                this.parentElement.classList.remove('active');
            }
        });
        document.addEventListener('click', function(e) {
            const siteSearchButton = document.getElementById('siteSearchButton');
            if (!siteSearchButton.contains(e.target)) {
                siteSearchButton.classList.remove('active');
                siteSearchButton.querySelector('input').style.display = 'none';
            }
        });
        document.getElementById('organizationsButton').addEventListener('click', function(e) {
            e.preventDefault();
            const searchText = document.getElementById('searchText').value;
            const urls = [
                "https://pb.nalog.ru/search.html#t=1&mode=search-all&queryAll=" + encodeURIComponent(searchText),
                "https://spark-interfax.ru/search?Query=" + encodeURIComponent(searchText) + "&type=all&sort=",
                "https://www.list-org.com/search?val=" + encodeURIComponent(searchText)
            ];
            openMultipleUrls(urls);
        });
        document.getElementById('legalSystemsButton').addEventListener('click', function(e) {
            e.preventDefault();
            const searchText = document.getElementById('searchText').value;
            const urls = [
                "https://docs.cntd.ru/search?q=" + encodeURIComponent(searchText),
                "https://ivo.garant.ru/#/basesearch/" + encodeURIComponent(searchText),
                "https://normativ.kontur.ru/?query=" + encodeURIComponent(searchText) + "&searching=true&sortby=1&searchquerysource=2&from=Main",
                "https://www.consultant.ru/search/?q=" + encodeURIComponent(searchText)
            ];
            openMultipleUrls(urls);
        });
    };
    function openMultipleUrls(urls) {
        function openWindows(index = 0) {
            if (index >= urls.length) return;
            const newWindow = window.open(urls[index], '_blank');
            if (!newWindow || newWindow.closed || typeof newWindow.closed == 'undefined') {
                showPopupInstructions(() => openWindows(index));
            } else {
                setTimeout(() => openWindows(index + 1), 100);
            }
        }
        function showPopupInstructions(retryCallback) {
            const instructions = document.createElement('div');
            instructions.style.cssText = `
            position: fixed;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            background-color: white;
            border: 1px solid #ccc;
            border-radius: 5px;
            padding: 20px;
            box-shadow: 0 2px 5px rgba(0,0,0,0.2);
            z-index: 1000;
        `;
            instructions.innerHTML = `
            <h3>Всплывающие окна заблокированы</h3>
            <p>Пожалуйста, разрешите всплывающие окна для этого сайта в настройках вашего браузера, затем нажмите кнопку ниже, чтобы повторить попытку.</p>
            <button id="retryButton">Повторить</button>
        `;
            document.body.appendChild(instructions);
            document.getElementById('retryButton').addEventListener('click', function() {
                instructions.remove();
                retryCallback();
            });
        }
        openWindows();
    };
    document.addEventListener('keydown', function(e) {
        if (e.key === 'F4') {
            e.preventDefault();
            openHTMLFile();
        }
    });
    function openHTMLFile() {
        const filePath = 'HTML.html';
        window.open(filePath, '_blank');
    }
    function getRandomInt(min, max) {
        return Math.floor(Math.random() * (max - min + 1)) + min;
    }
    function activateSunbeam() {
        const sunbeam = document.getElementById('sunbeam');
        const directions = [
            {
                transform: 'rotate(0deg) translateX(-100%)',
                to: 'translateX(100%)'
            },
            {
                transform: 'rotate(0deg) translateX(100%)',
                to: 'translateX(-100%)'
            },
            {
                transform: 'rotate(90deg) translateY(-100%)',
                to: 'translateY(100%)'
            },
            {
                transform: 'rotate(90deg) translateY(100%)',
                to: 'translateY(-100%)'
            },
            {
                transform: 'rotate(45deg) translate(-100%, -100%)',
                to: 'translate(100%, 100%)'
            },
            {
                transform: 'rotate(45deg) translate(100%, 100%)',
                to: 'translate(-100%, -100%)'
            },
            {
                transform: 'rotate(-45deg) translate(-100%, 100%)',
                to: 'translate(100%, -100%)'
            },
            {
                transform: 'rotate(-45deg) translate(100%, -100%)',
                to: 'translate(-100%, 100%)'
            }
        ];
        const randomDirection = directions[Math.floor(Math.random() * directions.length)];
        sunbeam.style.transform = randomDirection.transform;
        const keyframes = [
            {
                transform: randomDirection.transform,
                opacity: 0
            },
            {
                opacity: 1,
                offset: 0.2
            },
            {
                opacity: 1,
                offset: 0.8
            },
            {
                transform: randomDirection.to,
                opacity: 0
            }
        ];
        const animation = sunbeam.animate(keyframes, {
            duration: 2500,
            easing: 'ease-in-out'
        });
        animation.onfinish = () => {
            scheduleSunbeam();
        };
    }
    function scheduleSunbeam() {
        const delay = getRandomInt(30000, 200000);
        setTimeout(activateSunbeam, delay);
    }
    function updateFavicon() {
        const favicon = document.getElementById('favicon');
        if (isF9Mode) {
            favicon.href = "https://img.icons8.com/?size=100&id=ObuWtTlsoTj6&format=png&color=000000";
        } else {
            favicon.href = "https://i.ibb.co/93fdcD1/maps-icon-icons-com-72040.png";
        }
    }
    setTimeout(activateSunbeam, 15000);
    
    
        document.addEventListener('mousemove', (event) => {
        lastMouseMovement = Date.now();
         mouseX = event.clientX;
        mouseY = event.clientY;
    });
    
    
    document.addEventListener('DOMContentLoaded', function() {
        const clickArea = document.createElement('div');
        clickArea.classList.add('click-area');
        document.body.appendChild(clickArea);
        const leftMenu = document.querySelector('.left-menu');
        const socialIcons = document.querySelector('.social-icons');
        let isBottomCentered = false;
        const originalLeftParent = leftMenu.parentElement;
        const originalSocialParent = socialIcons.parentElement;
        const bottomContainer = document.createElement('div');
        bottomContainer.classList.add('bottom-centered-container');
        bottomContainer.style.display = 'none';
        document.body.appendChild(bottomContainer);
        function loadState() {
            try {
                const settings = JSON.parse(localStorage.getItem('pageSettings')) || {};
                if (settings.isBottomCentered) {
                    isBottomCentered = false;
                    toggleButtonsPosition();
                }
            } catch (e) {
                console.error('Ошибка загрузки настроек:', e);
            }
        }
        function saveState() {
            try {
                const settings = JSON.parse(localStorage.getItem('pageSettings')) || {};
                settings.isBottomCentered = isBottomCentered;
                localStorage.setItem('pageSettings', JSON.stringify(settings));
            } catch (e) {
                console.error('Ошибка сохранения настроек:', e);
            }
        }
        function toggleButtonsPosition() {
            const leftMenuVisible = window.getComputedStyle(leftMenu).display !== 'none';
            const socialIconsVisible = window.getComputedStyle(socialIcons).display !== 'none';
            if (!leftMenuVisible || !socialIconsVisible) {
                return;
            }
            if (!isBottomCentered) {
                bottomContainer.appendChild(leftMenu);
                bottomContainer.appendChild(socialIcons);
                leftMenu.classList.add('in-bottom-row');
                socialIcons.classList.add('in-bottom-row');
                bottomContainer.style.display = 'flex';
            } else {
                originalLeftParent.insertBefore(leftMenu, originalLeftParent.firstChild);
                originalSocialParent.appendChild(socialIcons);
                leftMenu.classList.remove('in-bottom-row');
                socialIcons.classList.remove('in-bottom-row');
                bottomContainer.style.display = 'none';
            }
            isBottomCentered = !isBottomCentered;
            saveState();
        }
        clickArea.addEventListener('click', function(e) {
            e.preventDefault();
            toggleButtonsPosition();
        });
        document.addEventListener('keydown', function(e) {
            if (e.key === 'F10') {
                e.preventDefault();
                toggleButtonsPosition();
            }
        });
        loadState();
    });
    </script>
</body>
</html>                