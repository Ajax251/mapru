<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <title>–ú–ö–°: –¶–µ–Ω—Ç—Ä —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è –ø–æ–ª–µ—Ç–æ–º</title>
    
    <!-- –ü–æ–¥–∫–ª—é—á–∞–µ–º —Å—Ç–∏–ª–∏ –¥–ª—è –∫–∞—Ä—Ç—ã (Leaflet) -->
    <link rel="stylesheet" href="https://unpkg.com/leaflet@1.9.4/dist/leaflet.css" />
    
    <style>
        body {
            background-color: #1a1a1a;
            color: #eee;
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            margin: 0;
            padding: 20px;
            display: flex;
            flex-direction: column;
            align-items: center;
        }

        h1 {
            text-transform: uppercase;
            letter-spacing: 2px;
            margin-bottom: 20px;
            text-shadow: 0 0 10px rgba(0, 150, 255, 0.7);
        }

        .dashboard {
            display: flex;
            flex-wrap: wrap;
            gap: 20px;
            justify-content: center;
            width: 100%;
            max-width: 1200px;
        }

        /* –°—Ç–∏–ª–∏ –¥–ª—è –±–ª–æ–∫–∞ —Å –≤–∏–¥–µ–æ */
        .video-box, .map-box {
            background: #000;
            border: 1px solid #444;
            border-radius: 8px;
            overflow: hidden;
            box-shadow: 0 0 15px rgba(0, 0, 0, 0.5);
            width: 100%;
            max-width: 550px;
        }

        .video-container {
            position: relative;
            padding-bottom: 56.25%; /* 16:9 */
            height: 0;
        }

        .video-container iframe {
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
        }

        /* –°—Ç–∏–ª–∏ –¥–ª—è –∫–∞—Ä—Ç—ã */
        #issMap {
            height: 310px; /* –í—ã—Å–æ—Ç–∞ –∫–∞—Ä—Ç—ã */
            width: 100%;
        }

        .info-panel {
            margin-top: 10px;
            padding: 10px;
            font-size: 0.9em;
            text-align: center;
            color: #aaa;
        }

        .data-value {
            color: #00d2ff;
            font-weight: bold;
        }
    </style>
</head>
<body>

    <h1>üõ∞Ô∏è –ú–ö–°: –ü—Ä—è–º–æ–π —ç—Ñ–∏—Ä & –¢—Ä–µ–∫–µ—Ä</h1>

    <div class="dashboard">
        
        <!-- –ë–õ–û–ö 1: –í–ò–î–ï–û -->
        <div class="video-box">
            <div class="video-container">
                <!-- 
                   –í–ê–ñ–ù–û: –ù–∞–π–¥–∏ –Ω–∞ YouTube –∞–∫—Ç—É–∞–ª—å–Ω—ã–π —Å—Ç—Ä–∏–º "NASA ISS Live".
                   –°–∫–æ–ø–∏—Ä—É–π ID –≤–∏–¥–µ–æ (–ø–æ—Å–ª–µ v=...) –∏ –≤—Å—Ç–∞–≤—å –≤–º–µ—Å—Ç–æ P9C2567sHEg –Ω–∏–∂–µ.
                   –û–±—ã—á–Ω–æ —Ä–∞–±–æ—Ç–∞—é—â–∏–µ ID: P9C2567sHEg –∏–ª–∏ 86YLFOog4GM
                -->
                <iframe 
                    src="https://www.youtube.com/embed/P9C2567sHEg?autoplay=1&mute=1" 
                    title="ISS Live" 
                    frameborder="0" 
                    allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture" 
                    allowfullscreen>
                </iframe>
            </div>
            <div class="info-panel">
                –ï—Å–ª–∏ —ç–∫—Ä–∞–Ω —á–µ—Ä–Ω—ã–π ‚Äî —Å—Ç–∞–Ω—Ü–∏—è –ª–µ—Ç–∏—Ç –Ω–∞–¥ –Ω–æ—á–Ω–æ–π —Å—Ç–æ—Ä–æ–Ω–æ–π –ó–µ–º–ª–∏.
            </div>
        </div>

        <!-- –ë–õ–û–ö 2: –ö–ê–†–¢–ê -->
        <div class="map-box">
            <div id="issMap"></div>
            <div class="info-panel">
                –°–∫–æ—Ä–æ—Å—Ç—å: <span id="speed" class="data-value">0</span> –∫–º/—á | 
                –í—ã—Å–æ—Ç–∞: <span id="altitude" class="data-value">0</span> –∫–º
            </div>
        </div>

    </div>

    <!-- –ü–æ–¥–∫–ª—é—á–∞–µ–º —Å–∫—Ä–∏–ø—Ç –∫–∞—Ä—Ç—ã (Leaflet) -->
    <script src="https://unpkg.com/leaflet@1.9.4/dist/leaflet.js"></script>
    
    <script>
        // --- 1. –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –∫–∞—Ä—Ç—ã ---
        const map = L.map('issMap').setView([0, 0], 3); // –¶–µ–Ω—Ç—Ä –∫–∞—Ä—Ç—ã (0,0), –º–∞—Å—à—Ç–∞–± 3

        // –î–æ–±–∞–≤–ª—è–µ–º –∫—Ä–∞—Å–∏–≤—ã–π —Å–ª–æ–π –∫–∞—Ä—Ç—ã (—Ç–µ–º–Ω–∞—è —Ç–µ–º–∞)
        L.tileLayer('https://{s}.basemaps.cartocdn.com/dark_all/{z}/{x}/{y}{r}.png', {
            attribution: '&copy; OpenStreetMap contributors &copy; CARTO',
            maxZoom: 19
        }).addTo(map);

        // –°–æ–∑–¥–∞–µ–º –∏–∫–æ–Ω–∫—É –¥–ª—è –ú–ö–°
        const issIcon = L.icon({
            iconUrl: 'https://upload.wikimedia.org/wikipedia/commons/d/d0/International_Space_Station.svg',
            iconSize: [50, 32],
            iconAnchor: [25, 16]
        });

        // –î–æ–±–∞–≤–ª—è–µ–º –º–∞—Ä–∫–µ—Ä –Ω–∞ –∫–∞—Ä—Ç—É
        const marker = L.marker([0, 0], {icon: issIcon}).addTo(map);

        // --- 2. –§—É–Ω–∫—Ü–∏—è –ø–æ–ª—É—á–µ–Ω–∏—è –¥–∞–Ω–Ω—ã—Ö (API) ---
        async function getISSData() {
            const url = 'https://api.wheretheiss.at/v1/satellites/25544';
            
            try {
                const response = await fetch(url);
                const data = await response.json();
                
                // –ü–æ–ª—É—á–∞–µ–º –∫–æ–æ—Ä–¥–∏–Ω–∞—Ç—ã
                const lat = data.latitude;
                const lon = data.longitude;
                const speed = Math.round(data.velocity);
                const alt = Math.round(data.altitude);

                // –î–≤–∏–≥–∞–µ–º –º–∞—Ä–∫–µ—Ä
                marker.setLatLng([lat, lon]);
                map.panTo([lat, lon]); // –ö–∞—Ä—Ç–∞ —Å–ª–µ–¥–∏—Ç –∑–∞ –º–∞—Ä–∫–µ—Ä–æ–º

                // –û–±–Ω–æ–≤–ª—è–µ–º —Ç–µ–∫—Å—Ç
                document.getElementById('speed').textContent = speed;
                document.getElementById('altitude').textContent = alt;

            } catch (error) {
                console.log('–û—à–∏–±–∫–∞ –ø–æ–ª—É—á–µ–Ω–∏—è –¥–∞–Ω–Ω—ã—Ö:', error);
            }
        }

        // --- 3. –ó–∞–ø—É—Å–∫ ---
        getISSData(); // –ü–µ—Ä–≤—ã–π –∑–∞–ø—É—Å–∫ —Å—Ä–∞–∑—É
        setInterval(getISSData, 2000); // –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ –∫–∞–∂–¥—ã–µ 2 —Å–µ–∫—É–Ω–¥—ã
    </script>

</body>
</html>